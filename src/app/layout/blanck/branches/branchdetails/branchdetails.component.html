<section>
  <div class="row g-3">
    <div class="col-md-6">
      <div class="head-card rounded-3 p-3">
        <h2 class="d-flex justify-content-start align-items-center gap-1">
          <svg width="35" height="35" viewBox="0 0 29 34" fill="#fff" xmlns="http://www.w3.org/2000/svg">
            <path d="M14.5 17C9.81225 17 6 13.1877 6 8.5C6 3.81225 9.81225 0 14.5 0C19.1878 0 23 3.81225 23 8.5C23 13.1877 19.1878 17 14.5 17ZM14.5 19.8333C7.27075 19.8333 1.21875 25.2478 0.423998 32.4275C0.380082 32.8284 0.508998 33.2279 0.776748 33.5282C1.04592 33.8286 1.42983 34 1.83217 34H5.99858C5.99858 29.3123 9.81083 25.5 14.4986 25.5C19.1863 25.5 22.9986 29.3123 22.9986 34H27.165C27.5673 34 27.9513 33.8286 28.2204 33.5282C28.4882 33.2279 28.6171 32.8284 28.5732 32.4275C27.7784 25.2478 21.7264 19.8333 14.4972 19.8333H14.5ZM14.5 28.3333C11.3748 28.3333 8.83333 30.8748 8.83333 34H20.1667C20.1667 30.8748 17.6252 28.3333 14.5 28.3333Z"/>
          </svg>
          <span>Total Drivers</span>
        </h2>
        <div class="count d-flex justify-content-center align-items-center gap-2">
          <svg width="30" height="30" viewBox="0 0 29 34" fill="#fff" xmlns="http://www.w3.org/2000/svg">
            <path d="M14.5 17C9.81225 17 6 13.1877 6 8.5C6 3.81225 9.81225 0 14.5 0C19.1878 0 23 3.81225 23 8.5C23 13.1877 19.1878 17 14.5 17ZM14.5 19.8333C7.27075 19.8333 1.21875 25.2478 0.423998 32.4275C0.380082 32.8284 0.508998 33.2279 0.776748 33.5282C1.04592 33.8286 1.42983 34 1.83217 34H5.99858C5.99858 29.3123 9.81083 25.5 14.4986 25.5C19.1863 25.5 22.9986 29.3123 22.9986 34H27.165C27.5673 34 27.9513 33.8286 28.2204 33.5282C28.4882 33.2279 28.6171 32.8284 28.5732 32.4275C27.7784 25.2478 21.7264 19.8333 14.4972 19.8333H14.5ZM14.5 28.3333C11.3748 28.3333 8.83333 30.8748 8.83333 34H20.1667C20.1667 30.8748 17.6252 28.3333 14.5 28.3333Z"/>
          </svg>
          <h3>{{driversCount}}</h3>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="head-card rounded-3 p-3">
        <h2 class="d-flex justify-content-start align-items-center gap-1">
          <svg width="35" height="35" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.533325 10.8442V8.33487C0.533325 7.93556 0.684776 7.55261 0.954359 7.27026C1.22394 6.98791 1.58958 6.82929 1.97083 6.82929C1.97083 6.82929 2.88987 6.82929 2.92916 6.82929C3.52212 5.44909 4.22314 4.12266 5.02503 2.86359C5.50386 2.21147 6.16737 1.73471 6.92062 1.50154C8.60824 0.642355 15.4584 0.642355 17.146 1.50154C17.8993 1.73471 18.5628 2.21147 19.0416 2.86359C19.8435 4.12266 20.5445 5.44909 21.1375 6.82929C21.1768 6.82929 22.0958 6.82929 22.0958 6.82929C22.4771 6.82929 22.8427 6.98791 23.1123 7.27026C23.3819 7.55261 23.5333 7.93556 23.5333 8.33487V10.8442C19.7255 10.243 15.8837 9.90766 12.0333 9.84045C8.18299 9.90766 4.34118 10.243 0.533325 10.8442ZM23.5333 12.8747V14.8591C23.5333 15.9239 23.1295 16.9451 22.4106 17.698C21.6917 18.4509 20.7167 18.8739 19.7 18.8739H4.36666C3.35 18.8739 2.37497 18.4509 1.65608 17.698C0.937193 16.9451 0.533325 15.9239 0.533325 14.8591V12.8787C4.34066 12.269 8.18244 11.9247 12.0333 11.8479C15.8842 11.9247 19.726 12.269 23.5333 12.8787V12.8747ZM6.28333 15.8628C6.28333 15.5966 6.18236 15.3413 6.00264 15.153C5.82291 14.9648 5.57916 14.8591 5.32499 14.8591C5.07083 14.8591 4.82707 14.9648 4.64735 15.153C4.46763 15.3413 4.36666 15.5966 4.36666 15.8628C4.36666 16.129 4.46763 16.3843 4.64735 16.5725C4.82707 16.7607 5.07083 16.8665 5.32499 16.8665C5.57916 16.8665 5.82291 16.7607 6.00264 16.5725C6.18236 16.3843 6.28333 16.129 6.28333 15.8628ZM19.7 15.8628C19.7 15.5966 19.599 15.3413 19.4193 15.153C19.2396 14.9648 18.9958 14.8591 18.7417 14.8591C18.4875 14.8591 18.2437 14.9648 18.064 15.153C17.8843 15.3413 17.7833 15.5966 17.7833 15.8628C17.7833 16.129 17.8843 16.3843 18.064 16.5725C18.2437 16.7607 18.4875 16.8665 18.7417 16.8665C18.9958 16.8665 19.2396 16.7607 19.4193 16.5725C19.599 16.3843 19.7 16.129 19.7 15.8628ZM7.18608 20.8814C7.74862 24.8501 1.94208 24.8481 2.50558 20.8814H7.18608ZM21.5611 20.8814C22.1236 24.8501 16.3171 24.8481 16.8806 20.8814H21.5611Z"/>
          </svg>
          <span>Total Cars</span>
        </h2>
        <div class="count d-flex justify-content-center align-items-center gap-2">
          <svg width="30" height="30" viewBox="0 0 24 24" fill="#fff" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.533325 10.8442V8.33487C0.533325 7.93556 0.684776 7.55261 0.954359 7.27026C1.22394 6.98791 1.58958 6.82929 1.97083 6.82929C1.97083 6.82929 2.88987 6.82929 2.92916 6.82929C3.52212 5.44909 4.22314 4.12266 5.02503 2.86359C5.50386 2.21147 6.16737 1.73471 6.92062 1.50154C8.60824 0.642355 15.4584 0.642355 17.146 1.50154C17.8993 1.73471 18.5628 2.21147 19.0416 2.86359C19.8435 4.12266 20.5445 5.44909 21.1375 6.82929C21.1768 6.82929 22.0958 6.82929 22.0958 6.82929C22.4771 6.82929 22.8427 6.98791 23.1123 7.27026C23.3819 7.55261 23.5333 7.93556 23.5333 8.33487V10.8442C19.7255 10.243 15.8837 9.90766 12.0333 9.84045C8.18299 9.90766 4.34118 10.243 0.533325 10.8442ZM23.5333 12.8747V14.8591C23.5333 15.9239 23.1295 16.9451 22.4106 17.698C21.6917 18.4509 20.7167 18.8739 19.7 18.8739H4.36666C3.35 18.8739 2.37497 18.4509 1.65608 17.698C0.937193 16.9451 0.533325 15.9239 0.533325 14.8591V12.8787C4.34066 12.269 8.18244 11.9247 12.0333 11.8479C15.8842 11.9247 19.726 12.269 23.5333 12.8787V12.8747ZM6.28333 15.8628C6.28333 15.5966 6.18236 15.3413 6.00264 15.153C5.82291 14.9648 5.57916 14.8591 5.32499 14.8591C5.07083 14.8591 4.82707 14.9648 4.64735 15.153C4.46763 15.3413 4.36666 15.5966 4.36666 15.8628C4.36666 16.129 4.46763 16.3843 4.64735 16.5725C4.82707 16.7607 5.07083 16.8665 5.32499 16.8665C5.57916 16.8665 5.82291 16.7607 6.00264 16.5725C6.18236 16.3843 6.28333 16.129 6.28333 15.8628ZM19.7 15.8628C19.7 15.5966 19.599 15.3413 19.4193 15.153C19.2396 14.9648 18.9958 14.8591 18.7417 14.8591C18.4875 14.8591 18.2437 14.9648 18.064 15.153C17.8843 15.3413 17.7833 15.5966 17.7833 15.8628C17.7833 16.129 17.8843 16.3843 18.064 16.5725C18.2437 16.7607 18.4875 16.8665 18.7417 16.8665C18.9958 16.8665 19.2396 16.7607 19.4193 16.5725C19.599 16.3843 19.7 16.129 19.7 15.8628ZM7.18608 20.8814C7.74862 24.8501 1.94208 24.8481 2.50558 20.8814H7.18608ZM21.5611 20.8814C22.1236 24.8501 16.3171 24.8481 16.8806 20.8814H21.5611Z"/>
          </svg>
          <h3>{{carCount}}</h3>
        </div>
      </div>
    </div>


    <!-- Car Table -->
    @if(allCars.length){
      <div class="col-12 animate__animated animate__fadeInUp">
        <div class="bg-white rounded-3 shadow p-3">
          <div class="table-responsive">
            <table class="table overflow-x-scroll table-striped text-center">
                <tbody>
                  @for(car of allCars | paginate: { itemsPerPage:pageSize , currentPage: currentPage, totalItems:carCount } ; track $index){
                    <tr>
                      <td>
                        <div class="d-flex flex-column justify-content-center align-items-center">
                          <span class="muted">ID</span>
                          <p class="text-table">{{ $index + 1 }}</p>
                        </div>
                      </td>

                      <td>
                        <div class="d-flex flex-column justify-content-center align-items-center">
                          <span class="muted">Model</span>
                          <p class="text-table">{{ car.model }}</p>
                        </div>
                      </td>

                      <td>
                        <div class="d-flex flex-column justify-content-center align-items-center">
                          <span class="muted">Plate</span>
                          <p class="text-table">{{ car.carNumber }}</p>
                        </div>
                      </td>

                      <td>
                        <div class="d-flex flex-column justify-content-center align-items-center">
                          <span class="muted">Color</span>
                          <p class="text-table">{{ car.color }}</p>
                        </div>
                      </td>

                      <td>
                        <div class="d-flex flex-column justify-content-center align-items-center">
                          <span class="muted">License Date</span>
                          <p class="text-table">{{ car.licenseDate | date }}</p>
                        </div>
                      </td>

                      <td>
                        <div class="d-flex flex-column justify-content-center align-items-center">
                          <span class="muted">Driver Name</span>
                          @for(driver of car.driversName; track $index){
                            <p class="text-table">{{ driver }}</p>
                          }
                        </div>
                      </td>

                      <td>
                        <div class="d-flex flex-column justify-content-center align-items-center">
                          <span class="muted">Petrol Type</span>
                          <p class="text-table">{{ car.petrolType ?? 'UnKnown' }}</p>
                        </div>
                      </td>
                    </tr>
                  }
                </tbody>
            </table>

            <!-- Pagination Controls -->
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <select name="pageSize" id="pageSize" class="form-select py-1" (change)="onChangePageSize($event)">
                  <option value="10">10</option>
                  <option value="25">25</option>
                  <option value="50">50</option>
                  <option value="100">100</option>
                  <option value="10000">All</option>
                </select>
              </div>

              <div>
                <pagination-controls (pageChange)="onPageChange($event)" class="d-flex justify-content-center my-pagination"></pagination-controls>
              </div>
            </div>
          </div>
        </div>
      </div>
    } @else {
      <div class="vh-100 d-flex flex-column justify-content-center align-items-center bg-white shadow rounded-3">
        <img src="./assets/image/error_9042574.png" class="err-img" alt="error404" srcset="">
      </div>
    }
  </div>
</section>
