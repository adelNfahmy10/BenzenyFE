<section>
  <div>
    <div class="row g-3">
      <!-- Header Page -->
      <div class="col-12 animate__animated animate__fadeInDown">
        <app-header></app-header>
      </div>

      <!-- Section Total Branches -->
      <div class="col-12 animate__animated animate__fadeInDown">
        <div class="row g-2">
          <div class="col-md-4">
            <div class="head-card-total rounded-3 p-3">
              <h2 class="d-flex justify-content-start align-items-center gap-1">
                <svg width="35" height="35" viewBox="0 0 62 63" xmlns="http://www.w3.org/2000/svg">
                  <path d="M-0.0491351 52.1661C-0.0626995 57.8652 4.56077 62.4999 10.2596 62.4999C15.9584 62.4999 20.604 57.8652 20.6175 52.1661C20.629 47.361 17.3397 43.3101 12.8913 42.1605L12.8921 41.8324C12.9023 37.5594 16.3877 34.0821 20.6606 34.0821L41.3272 34.0821C44.2335 34.0821 46.9199 33.1159 49.0834 31.4935L49.058 42.1605C44.6042 43.3101 41.2956 47.361 41.2842 52.1661C41.2706 57.8652 45.8941 62.4999 51.5929 62.4999C57.2918 62.4999 61.9373 57.8652 61.9509 52.1661C61.9623 47.361 58.673 43.3101 54.2247 42.1605L54.2754 20.8394C58.7292 19.6898 62.0378 15.639 62.0492 10.8338C62.0628 5.13474 57.4393 0.500056 51.7405 0.500056C46.0417 0.500057 41.3961 5.13474 41.3826 10.8338C41.3711 15.639 44.6604 19.6898 49.1088 20.8394L49.108 21.1675C49.0978 25.4405 45.6124 28.9178 41.3395 28.9178L20.6729 28.9178C13.5506 28.9178 7.74241 34.7125 7.72545 41.835L7.72467 42.1631C3.27086 43.3127 -0.0376983 47.361 -0.0491351 52.1661Z"/>
                </svg>
                <span>Total Branch</span>
              </h2>
              <div class="count d-flex justify-content-center align-items-center gap-1">
                <svg width="28" height="28" viewBox="0 0 62 63" xmlns="http://www.w3.org/2000/svg">
                  <path d="M-0.0491351 52.1661C-0.0626995 57.8652 4.56077 62.4999 10.2596 62.4999C15.9584 62.4999 20.604 57.8652 20.6175 52.1661C20.629 47.361 17.3397 43.3101 12.8913 42.1605L12.8921 41.8324C12.9023 37.5594 16.3877 34.0821 20.6606 34.0821L41.3272 34.0821C44.2335 34.0821 46.9199 33.1159 49.0834 31.4935L49.058 42.1605C44.6042 43.3101 41.2956 47.361 41.2842 52.1661C41.2706 57.8652 45.8941 62.4999 51.5929 62.4999C57.2918 62.4999 61.9373 57.8652 61.9509 52.1661C61.9623 47.361 58.673 43.3101 54.2247 42.1605L54.2754 20.8394C58.7292 19.6898 62.0378 15.639 62.0492 10.8338C62.0628 5.13474 57.4393 0.500056 51.7405 0.500056C46.0417 0.500057 41.3961 5.13474 41.3826 10.8338C41.3711 15.639 44.6604 19.6898 49.1088 20.8394L49.108 21.1675C49.0978 25.4405 45.6124 28.9178 41.3395 28.9178L20.6729 28.9178C13.5506 28.9178 7.74241 34.7125 7.72545 41.835L7.72467 42.1631C3.27086 43.3127 -0.0376983 47.361 -0.0491351 52.1661Z"/>
                </svg>
                <h3>{{branchCount}}</h3>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="head-card rounded-3 p-3">
              <h2 class="d-flex justify-content-start align-items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 64 64">
                  <path d="M 31 2 C 15.011719 2 2 15.011719 2 31 C 2 46.988281 15.011719 60 31 60 C 46.988281 60 60 46.988281 60 31 C 60 15.011719 46.988281 2 31 2 Z M 31 4 C 45.886719 4 58 16.113281 58 31 C 58 45.886719 45.886719 58 31 58 C 16.113281 58 4 45.886719 4 31 C 4 16.113281 16.113281 4 31 4 Z M 30.5625 8.007813 C 24.671875 8.128906 18.960938 10.507813 14.734375 14.734375 C 5.769531 23.703125 5.769531 38.292969 14.734375 47.261719 C 14.929688 47.457031 15.1875 47.554688 15.441406 47.554688 C 15.699219 47.554688 15.957031 47.457031 16.152344 47.261719 C 16.542969 46.871094 16.542969 46.238281 16.152344 45.847656 C 7.960938 37.660156 7.964844 24.339844 16.152344 16.152344 C 20.898438 11.402344 27.699219 9.199219 34.339844 10.265625 C 34.882813 10.355469 35.394531 9.980469 35.484375 9.4375 C 35.574219 8.890625 35.199219 8.375 34.65625 8.289063 C 33.289063 8.070313 31.921875 7.980469 30.5625 8.007813 Z M 38.660156 9.386719 C 38.269531 9.402344 37.910156 9.648438 37.765625 10.035156 C 37.570313 10.554688 37.832031 11.128906 38.351563 11.324219 C 39.0625 11.589844 39.765625 11.894531 40.453125 12.238281 C 40.597656 12.3125 40.75 12.347656 40.902344 12.347656 C 41.265625 12.347656 41.617188 12.148438 41.796875 11.796875 C 42.042969 11.308594 41.84375 10.703125 41.351563 10.453125 C 40.605469 10.078125 39.828125 9.738281 39.050781 9.445313 C 38.921875 9.398438 38.789063 9.382813 38.660156 9.386719 Z M 44.433594 12.675781 C 44.179688 12.707031 43.9375 12.835938 43.765625 13.050781 C 43.425781 13.488281 43.5 14.113281 43.9375 14.453125 C 44.605469 14.976563 45.25 15.550781 45.847656 16.152344 C 54.039063 24.339844 54.039063 37.660156 45.847656 45.847656 C 45.457031 46.242188 45.457031 46.871094 45.847656 47.265625 C 46.042969 47.457031 46.300781 47.558594 46.558594 47.558594 C 46.8125 47.558594 47.070313 47.457031 47.265625 47.265625 C 56.230469 38.296875 56.230469 23.703125 47.265625 14.734375 C 46.605469 14.078125 45.902344 13.453125 45.171875 12.878906 C 44.953125 12.710938 44.683594 12.644531 44.433594 12.675781 Z M 43 22 C 42.746094 22 42.488281 22.097656 42.292969 22.292969 L 28 36.585938 L 20.707031 29.292969 C 20.316406 28.902344 19.683594 28.902344 19.292969 29.292969 C 18.902344 29.683594 18.902344 30.316406 19.292969 30.707031 L 27.292969 38.707031 C 27.488281 38.902344 27.742188 39 28 39 C 28.257813 39 28.511719 38.902344 28.707031 38.707031 L 43.707031 23.707031 C 44.097656 23.316406 44.097656 22.683594 43.707031 22.292969 C 43.511719 22.097656 43.253906 22 43 22 Z M 21.375 47.394531 C 20.984375 47.347656 20.589844 47.527344 20.386719 47.886719 L 19.386719 49.617188 C 19.109375 50.097656 19.273438 50.707031 19.75 50.984375 C 19.90625 51.074219 20.078125 51.117188 20.25 51.117188 C 20.59375 51.117188 20.929688 50.9375 21.113281 50.617188 L 22.113281 48.886719 C 22.390625 48.410156 22.230469 47.796875 21.75 47.519531 C 21.628906 47.453125 21.5 47.410156 21.375 47.394531 Z M 40.625 47.394531 C 40.496094 47.410156 40.367188 47.453125 40.25 47.519531 C 39.769531 47.796875 39.609375 48.410156 39.886719 48.890625 L 40.886719 50.621094 C 41.070313 50.941406 41.40625 51.121094 41.75 51.121094 C 41.921875 51.121094 42.09375 51.074219 42.25 50.984375 C 42.730469 50.707031 42.890625 50.097656 42.613281 49.621094 L 41.613281 47.890625 C 41.40625 47.53125 41.011719 47.347656 40.625 47.394531 Z M 25.816406 49.34375 C 25.429688 49.398438 25.09375 49.675781 24.984375 50.078125 L 24.46875 52.011719 C 24.324219 52.542969 24.644531 53.089844 25.175781 53.234375 C 25.261719 53.257813 25.347656 53.265625 25.4375 53.265625 C 25.875 53.265625 26.28125 52.972656 26.402344 52.527344 L 26.921875 50.59375 C 27.0625 50.0625 26.746094 49.511719 26.214844 49.371094 C 26.082031 49.332031 25.945313 49.328125 25.816406 49.34375 Z M 36.1875 49.34375 C 36.058594 49.328125 35.921875 49.332031 35.785156 49.371094 C 35.253906 49.511719 34.9375 50.0625 35.078125 50.59375 L 35.597656 52.527344 C 35.71875 52.972656 36.121094 53.265625 36.5625 53.265625 C 36.652344 53.265625 36.738281 53.257813 36.824219 53.234375 C 37.355469 53.089844 37.675781 52.542969 37.53125 52.011719 L 37.015625 50.078125 C 36.90625 49.675781 36.570313 49.398438 36.1875 49.34375 Z M 31 50 C 30.445313 50 30 50.445313 30 51 L 30 53 C 30 53.554688 30.445313 54 31 54 C 31.554688 54 32 53.554688 32 53 L 32 51 C 32 50.445313 31.554688 50 31 50 Z"></path>
                </svg>
                <span>Active Branch</span>
              </h2>
              <div class="count d-flex justify-content-center align-items-center gap-1">
                <i class="fa-regular fa-circle-check fs-4"></i>
                <h3>{{activeCount}}</h3>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="head-card-deActive rounded-3 p-3">
              <h2 class="d-flex justify-content-start align-items-center gap-1">
                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="35" height="35" viewBox="0 0 50 50">
                  <path d="M 25 2 C 12.309534 2 2 12.309534 2 25 C 2 37.690466 12.309534 48 25 48 C 37.690466 48 48 37.690466 48 25 C 48 12.309534 37.690466 2 25 2 z M 25 4 C 36.609534 4 46 13.390466 46 25 C 46 36.609534 36.609534 46 25 46 C 13.390466 46 4 36.609534 4 25 C 4 13.390466 13.390466 4 25 4 z M 32.990234 15.986328 A 1.0001 1.0001 0 0 0 32.292969 16.292969 L 25 23.585938 L 17.707031 16.292969 A 1.0001 1.0001 0 0 0 16.990234 15.990234 A 1.0001 1.0001 0 0 0 16.292969 17.707031 L 23.585938 25 L 16.292969 32.292969 A 1.0001 1.0001 0 1 0 17.707031 33.707031 L 25 26.414062 L 32.292969 33.707031 A 1.0001 1.0001 0 1 0 33.707031 32.292969 L 26.414062 25 L 33.707031 17.707031 A 1.0001 1.0001 0 0 0 32.990234 15.986328 z"></path>
                </svg>
                <span>DeActive Branch</span>
              </h2>
              <div class="count d-flex justify-content-center align-items-center gap-1">
                <i class="fa-regular fa-circle-xmark fs-4"></i>
                <h3>{{disActiveCount}}</h3>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Section Tabel -->
      <div class="col-12 animate__animated animate__fadeInUp z-2">
        <div class="bg-white shadow rounded-3 p-4">
          <div class="d-flex justify-content-between align-items-center gap-3 mb-3 flex-wrap">
            <div class="d-flex gap-3">
              <div class="search position-relative">
                <input type="search" (input)="filteredData($event)" class="form-control rounded-2" placeholder="Search by Names... ">
                <svg width="30" height="31" viewBox="0 0 30 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.5081 25.5129C15.3929 25.5167 18.1895 24.5185 20.4201 22.689L27.8808 30.1489C28.3776 30.6288 29.1692 30.615 29.649 30.1182C30.117 29.6335 30.117 28.8652 29.649 28.3805L22.1896 20.9194C26.5593 15.5706 25.766 7.69188 20.4177 3.32182C15.0693 -1.04824 7.19128 -0.254835 2.82159 5.09394C-1.54811 10.4427 -0.754773 18.3214 4.59356 22.6915C6.82738 24.5167 9.62347 25.5135 12.5081 25.5129Z" fill="#CBCBCB"/>
                    <path d="M22.5 12.9998C22.5 18.5231 18.0228 23.0006 12.5 23.0006C6.97715 23.0006 2.5 18.5231 2.5 12.9998C2.5 7.4765 6.97715 2.99897 12.5 2.99897C18.0228 2.99897 22.5 7.4765 22.5 12.9998Z" fill="white"/>
                </svg>
              </div>
            </div>

            <div class="d-flex justify-content-center align-items-center gap-3">
              <div class="add-btn d-flex justify-content-start align-items-center gap-1 rounded-2 py-2 cr" data-bs-toggle="modal" data-bs-target="#exampleModal-add">
                <svg width="20" height="21" viewBox="0 0 20 21" xmlns="http://www.w3.org/2000/svg">
                  <path d="M10 0.5C8.02219 0.5 6.08879 1.08649 4.4443 2.1853C2.79981 3.28412 1.51809 4.8459 0.761209 6.67317C0.00433286 8.50043 -0.193701 10.5111 0.192152 12.4509C0.578004 14.3907 1.53041 16.1725 2.92894 17.5711C4.32746 18.9696 6.10929 19.922 8.0491 20.3079C9.98891 20.6937 11.9996 20.4957 13.8268 19.7388C15.6541 18.9819 17.2159 17.7002 18.3147 16.0557C19.4135 14.4112 20 12.4778 20 10.5C19.9971 7.84872 18.9426 5.30684 17.0679 3.4321C15.1932 1.55736 12.6513 0.502868 10 0.5ZM13.3333 11.3333H10.8333V13.8333C10.8333 14.0543 10.7455 14.2663 10.5893 14.4226C10.433 14.5789 10.221 14.6667 10 14.6667C9.77899 14.6667 9.56703 14.5789 9.41075 14.4226C9.25447 14.2663 9.16667 14.0543 9.16667 13.8333V11.3333H6.66667C6.44566 11.3333 6.2337 11.2455 6.07742 11.0893C5.92113 10.933 5.83334 10.721 5.83334 10.5C5.83334 10.279 5.92113 10.067 6.07742 9.91074C6.2337 9.75447 6.44566 9.66667 6.66667 9.66667H9.16667V7.16667C9.16667 6.94565 9.25447 6.73369 9.41075 6.57741C9.56703 6.42113 9.77899 6.33333 10 6.33333C10.221 6.33333 10.433 6.42113 10.5893 6.57741C10.7455 6.73369 10.8333 6.94565 10.8333 7.16667V9.66667H13.3333C13.5544 9.66667 13.7663 9.75447 13.9226 9.91074C14.0789 10.067 14.1667 10.279 14.1667 10.5C14.1667 10.721 14.0789 10.933 13.9226 11.0893C13.7663 11.2455 13.5544 11.3333 13.3333 11.3333Z"/>
                </svg>
                <h5 class="mb-0">Add Branch</h5>
              </div>
              <div>
                <i (click)="downloadExcel()" class=" text-success fa-solid fa-file-excel fs-3 cr"></i>
              </div>
              <div>
                <i (click)="downloadPDF()" class="text-danger fa-solid fa-file-pdf fs-3 cr"></i>
              </div>
            </div>
          </div>

          <div class="table-responsive">
            <table class="table table-hover text-center" #table>
              <thead class="table-head">
                <tr>
                  <th class="fw-medium cr" (click)="sortTable('index')">#</th>
                  <th class="fw-medium cr" (click)="sortTable('companyName')">Company Name</th>
                  <th class="fw-medium cr" (click)="sortTable('cityName')">City</th>
                  <th class="fw-medium cr" (click)="sortTable('regionName')">Region</th>
                  <th class="fw-medium cr" (click)="sortTable('carCount')">Vehicles</th>
                  <th class="fw-medium cr" (click)="sortTable('driverCount')">Drivers</th>
                  <th class="fw-medium cr" (click)="sortTable('iban')">IBAN</th>
                  <th class="fw-medium cr" (click)="sortTable('isActive')">Status</th>
                  <th class="fw-medium cr">Actions</th>
                </tr>
              </thead>
              <tbody>
                @for(branch of allBrnaches | paginate: { itemsPerPage:pageSize , currentPage: currentPage, totalItems:branchCount} ; track $index){
                  <tr>
                    <td>
                      {{ $index + 1 }}
                    </td>
                    <td>
                      {{ branch.companyName }}
                    </td>
                    <td>
                      {{ branch.cityName }}
                    </td>
                    <td>
                      {{ branch.regionName }}
                    </td>
                    <td>
                      {{ branch.carCount }}
                    </td>
                    <td>
                      {{ branch.driverCount }}
                    </td>
                    <td>
                      {{ branch.iban || 'UnKnown' }}
                    </td>
                    <td>
                      <div class="d-flex justify-content-center align-items-center">
                        <span [ngClass]="{
                          'active-btn': branch.isActive,
                          'dis-active-btn': !branch.isActive
                          }" class="cr rounded-2" (click)="switchActiveBranch(branch.id)">
                          {{branch.isActive ? 'Active': 'DeActive'}}
                        </span>
                      </div>
                    </td>
                    <td>
                      <div class="d-flex justify-content-center align-items-center gap-2 mt-1">
                        <i [routerLink]="['/details/' + branch.id]" class="text-secondary fa-solid fa-circle-info cr"></i>
                        <div class="d-flex justify-content-center align-items-center" (click)="deleteBranch(branch.id)">
                          <svg class="cr" width="16" height="16" viewBox="0 0 14 14" fill="#f00" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_920_9284)">
                            <path d="M12.8333 2.33333H10.4411C10.1698 1.00392 8.99206 0 7.58331 0H6.41665C5.00848 0 3.83015 1.00392 3.5589 2.33333H1.16665C0.844646 2.33333 0.583313 2.59408 0.583313 2.91667C0.583313 3.23925 0.844646 3.5 1.16665 3.5H1.66831L2.42431 11.3628C2.56898 12.8666 3.81731 14 5.32756 14H8.66831C10.1809 14 11.4292 12.8642 11.5721 11.3587L12.3165 3.5H12.8327C13.1547 3.5 13.4161 3.23925 13.4161 2.91667C13.4161 2.59408 13.1553 2.33333 12.8333 2.33333ZM6.41665 1.16667H7.58331C8.34281 1.16667 8.98448 1.65608 9.22598 2.33333H4.77456C5.01606 1.65608 5.65773 1.16667 6.41723 1.16667H6.41665ZM9.1624 9.50425C9.39048 9.73233 9.39048 10.101 9.1624 10.3291C9.04865 10.4428 8.89931 10.5 8.74998 10.5C8.60065 10.5 8.45131 10.4428 8.33756 10.3291L6.99998 8.9915L5.6624 10.3291C5.54865 10.4428 5.39931 10.5 5.24998 10.5C5.10065 10.5 4.95131 10.4428 4.83756 10.3291C4.60948 10.101 4.60948 9.73233 4.83756 9.50425L6.17515 8.16667L4.83756 6.82908C4.60948 6.601 4.60948 6.23233 4.83756 6.00425C5.06565 5.77617 5.43431 5.77617 5.6624 6.00425L6.99998 7.34183L8.33756 6.00425C8.56565 5.77617 8.93431 5.77617 9.1624 6.00425C9.39048 6.23233 9.39048 6.601 9.1624 6.82908L7.82481 8.16667L9.1624 9.50425Z"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_920_9284">
                            <rect width="14" height="14" fill="white"/>
                            </clipPath>
                            </defs>
                          </svg>
                        </div>
                      </div>
                    </td>
                  </tr>
                }
              </tbody>
            </table>

            <div class="d-flex justify-content-between align-items-center">
              <div>
                <select name="pageSize" id="pageSize" class="form-select py-1" (change)="onChangePageSize($event)">
                  <option value="10">10</option>
                  <option value="25">25</option>
                  <option value="50">50</option>
                  <option value="100">100</option>
                  <option value="10000">All</option>
                </select>
              </div>

              <div>
                <pagination-controls (pageChange)="onPageChange($event)" class="d-flex justify-content-start my-pagination"></pagination-controls>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Modal Add Branch -->
<div class="modal fade" id="exampleModal-add" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content p-3">
      <div class="modal-header justify-content-end border-0 py-0 pt-2">
        <svg class="cr" data-bs-dismiss="modal" width="37" height="37" viewBox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_893_6942)">
          <path d="M18.5 0C8.29879 0 0 8.29879 0 18.5C0 28.7012 8.29879 37 18.5 37C28.7012 37 37 28.7012 37 18.5C37 8.29879 28.7012 0 18.5 0ZM25.846 24.8285C26.3949 25.4807 26.3116 26.4535 25.661 27.0007C25.3712 27.2443 25.0182 27.363 24.6682 27.363C24.2288 27.363 23.7925 27.1765 23.4873 26.8157L18.5 20.8927L13.5127 26.8157C13.209 27.1765 12.7727 27.363 12.3318 27.363C11.9818 27.363 11.6288 27.2443 11.339 27.0007C10.6884 26.4535 10.6036 25.4807 11.154 24.8285L16.4835 18.5L11.154 12.1715C10.6051 11.5193 10.6884 10.5465 11.339 9.99925C11.9911 9.44887 12.9654 9.53521 13.5112 10.1842L18.4985 16.1073L23.4858 10.1842C24.0315 9.53675 25.0058 9.44887 25.658 9.99925C26.3085 10.5465 26.3933 11.5193 25.843 12.1715L20.5134 18.5L25.843 24.8285H25.846Z" fill="#F79320"/>
          </g>
          <defs>
          <clipPath id="clip0_893_6942">
          <rect width="37" height="37" fill="white"/>
          </clipPath>
          </defs>
        </svg>
      </div>
      <div class="modal-body d-flex flex-column gap-3 px-4 pt-0">
        <div class="d-flex gap-2">
          <svg width="55" height="55" viewBox="0 0 55 55" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_865_10413)">
            <mask id="mask0_865_10413" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="55" height="55">
            <path d="M54.9573 0H0.0438232V55H54.9573V0Z" fill="white"/>
            </mask>
            <g mask="url(#mask0_865_10413)">
            <path d="M2.431e-05 45.8326C-0.0115107 50.8882 4.08341 55 9.12997 55C14.1765 55 18.2922 50.8882 18.3038 45.8326C18.3141 41.5694 15.4004 37.9764 11.4612 36.9563V36.6651C11.4704 32.8745 14.5583 29.7898 18.3418 29.7898H36.6467C39.2213 29.7898 41.5998 28.9326 43.5158 27.4931L43.4939 36.9551C39.5489 37.9752 36.619 41.5683 36.6086 45.8314C36.5971 50.8871 40.692 54.9988 45.7386 54.9988C50.7851 54.9988 54.9008 50.8871 54.9124 45.8314C54.9227 41.5683 52.009 37.9752 48.0698 36.9551L48.1148 18.0414C52.0598 17.0213 54.9896 13.4282 55 9.16512C55.0116 4.10945 50.9166 -0.00231934 45.8701 -0.00231934C40.8235 -0.00231934 36.7078 4.10945 36.6963 9.16512C36.6859 13.4282 39.5997 17.0213 43.5389 18.0414V18.3326C43.5296 22.1231 40.4417 25.2078 36.6582 25.2078H18.3534C12.0449 25.2078 6.90141 30.3478 6.88642 36.6663V36.9574C2.94029 37.9787 0.0104058 41.5694 2.431e-05 45.8326Z" fill="#F79320"/>
            </g>
            <path d="M45.7166 54.0884C50.2519 54.0884 53.9284 50.4061 53.9284 45.8637C53.9284 41.3214 50.2519 37.639 45.7166 37.639C41.1814 37.639 37.5049 41.3214 37.5049 45.8637C37.5049 50.4061 41.1814 54.0884 45.7166 54.0884Z" fill="#F7F7F7"/>
            <path d="M46.899 47.048V50.6306H44.5332V47.048H40.9562V44.6784H44.5332V41.0958H46.899V44.6784H50.476V47.048H46.899Z" fill="#F79320"/>
            </g>
            <defs>
            <clipPath id="clip0_865_10413">
            <rect width="55" height="55" fill="white"/>
            </clipPath>
            </defs>
          </svg>

          <div>
            <h4 class="fw-normal">New</h4>
            <h3>Branch</h3>
          </div>
        </div>

        <form class="row g-2" [formGroup]="branchForm" (ngSubmit)="submitBranchForm()">
          <div class="col-md-6">
            <label for="FullName">Branch Manager</label>
            <input type="text" name="FullName" id="FullName" formControlName="FullName" class="form-control" placeholder="Branch Name...">
          </div>

          <div class="col-md-6">
            <label for="RegionId">Region Id</label>
            <select name="RegionId" id="RegionId" class="form-select" formControlName="RegionId" (change)="onRegionsChange($event)">
              <option value="">Select Region...</option>
              @for(region of allRegions; track $index){
                <option [value]="region.id">{{region.title}}</option>
              }
            </select>
          </div>

          <div class="col-md-6">
            <label for="IBAN">IBAN</label>
            <input type="text" formControlName="IBAN" name="IBAN" id="IBAN" class="form-control" placeholder="SA_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _">
          </div>

          <div class="col-md-6">
            <label for="CityId">City</label>
            <select name="CityId" id="CityId" class="form-select" formControlName="CityId">
              <option value="">Select City...</option>
              @for(city of allCity; track $index){
                <option [value]="city.id">{{city.name}}</option>
              }
            </select>
          </div>

          <div class="col-md-6">
            <label for="PhoneNumber">Phone Number</label>
            <div class="d-flex justify-content-center align-items-center">
              <h5 class="code-num h-100 py-2 px-3 rounded-start-3">+966</h5>
              <input type="tel" name="PhoneNumber" id="PhoneNumber" formControlName="PhoneNumber" class="form-control rounded-0 rounded-end-3 shadow-none border-0" placeholder="Phone...">
            </div>
          </div>

          <div class="col-md-6">
            <label for="Address">Address</label>
            <input class="form-control" formControlName="Address" name="Address" id="Address" placeholder="Address...">
          </div>

          <div class="col-md-6">
            <label for="Email">Email</label>
            <input type="text" name="Email" id="Email" formControlName="Email" class="form-control" placeholder="Email...">
          </div>

          <div class="col-md-6">
            <label for="Password">Password</label>
            <input type="password" name="Password" id="Password" formControlName="Password" class="form-control" placeholder="Password...">
          </div>

          <!-- <div class="col-12">
            <div class="d-flex justify-content-start align-items-center gap-2">
              <label for="main">Is Main Branch</label>
              <label class="switch">
                <input type="checkbox" (change)="toggleChecked()">
                <span class="slider"></span>
              </label>
            </div>
          </div> -->

          <div class="col-12">
            <div class="d-flex justify-content-end align-items-center gap-2">
              <button class="save-btn btn d-flex justify-content-center align-items-center gap-2">
                <span>Save</span>
                <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_893_4557)">
                  <path d="M17.7083 25H9.375C4.20521 25 0 20.7937 0 15.625V7.29167C0 6.71667 0.465625 6.25 1.04167 6.25C1.61771 6.25 2.08333 6.71667 2.08333 7.29167V15.625C2.08333 19.6458 5.35521 22.9167 9.375 22.9167H17.7083C18.2844 22.9167 18.75 23.3833 18.75 23.9583C18.75 24.5333 18.2844 25 17.7083 25ZM17.7083 0H11.4583V5.20833H17.7083V0ZM25 6.52812V15.625C25 18.501 22.6677 20.8333 19.7917 20.8333H9.375C6.49896 20.8333 4.16667 18.501 4.16667 15.625V5.20833C4.16667 2.33646 6.50312 0 9.375 0V5.20833C9.375 6.35938 10.3073 7.29167 11.4583 7.29167H17.7083C18.8594 7.29167 19.7917 6.35938 19.7917 5.20833V0.288542C20.1354 0.444792 20.4552 0.655208 20.7229 0.925L24.0937 4.32604C24.674 4.91146 25 5.70312 25 6.52812ZM18.75 14.0625C18.75 12.049 17.1177 10.4167 15.1042 10.4167C13.0906 10.4167 11.4583 12.049 11.4583 14.0625C11.4583 16.076 13.0906 17.7083 15.1042 17.7083C17.1177 17.7083 18.75 16.076 18.75 14.0625ZM16.6667 14.0625C16.6667 14.925 15.9667 15.625 15.1042 15.625C14.2417 15.625 13.5417 14.925 13.5417 14.0625C13.5417 13.2 14.2417 12.5 15.1042 12.5C15.9667 12.5 16.6667 13.2 16.6667 14.0625Z"/>
                  <circle cx="15" cy="14" r="1" fill="#F97C21"/>
                  </g>
                  <defs>
                  <clipPath id="clip0_893_4557">
                  <rect width="25" height="25" fill="white"/>
                  </clipPath>
                  </defs>
                </svg>
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


