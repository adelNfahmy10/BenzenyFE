<section>
  <div class="row g-4">
    <div class="col-12 animate__animated animate__fadeInDown">
      <app-header></app-header>
      <h1>Vehicles</h1>
    </div>

    <!-- Section Total Vehicles -->
    <div class="col-md-4 animate__animated animate__fadeInDown">
      <div class="head-card position-relative bg-white main-color h-100 total d-flex justify-content-between aling-items-center rounded-3 py-2 ps-4 pe-5">
        <div class="d-flex flex-column justify-content-center align-items-center">
          <p class="m-0">Total Vehicles</p>
          <h3>
            {{carCount()}}
          </h3>
        </div>
        <div class="icon-head p-1 rounded-2 mt-3">
          <svg width="27" height="27" viewBox="0 0 36 34" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.5 14.8292V11.2289C0.5 10.656 0.730468 10.1065 1.1407 9.70142C1.55094 9.29631 2.10734 9.06872 2.6875 9.06872C2.6875 9.06872 4.08604 9.06872 4.14583 9.06872C5.04817 7.08843 6.11494 5.1853 7.33521 3.3788C8.06385 2.44315 9.07355 1.7591 10.2198 1.42456C12.7879 0.191814 23.2121 0.191814 25.7802 1.42456C26.9265 1.7591 27.9361 2.44315 28.6648 3.3788C29.8851 5.1853 30.9518 7.08843 31.8542 9.06872C31.914 9.06872 33.3125 9.06872 33.3125 9.06872C33.8927 9.06872 34.4491 9.29631 34.8593 9.70142C35.2695 10.1065 35.5 10.656 35.5 11.2289V14.8292C29.7054 13.9666 23.8592 13.4855 18 13.3891C12.1408 13.4855 6.29456 13.9666 0.5 14.8292ZM35.5 17.7426V20.5897C35.5 22.1175 34.8854 23.5827 33.7915 24.663C32.6975 25.7433 31.2138 26.3502 29.6667 26.3502H6.33333C4.78624 26.3502 3.30251 25.7433 2.20854 24.663C1.11458 23.5827 0.5 22.1175 0.5 20.5897V17.7483C6.29378 16.8736 12.14 16.3795 18 16.2693C23.86 16.3795 29.7062 16.8736 35.5 17.7483V17.7426ZM9.25 22.0298C9.25 21.6479 9.09635 21.2816 8.82286 21.0115C8.54937 20.7414 8.17844 20.5897 7.79167 20.5897C7.40489 20.5897 7.03396 20.7414 6.76047 21.0115C6.48698 21.2816 6.33333 21.6479 6.33333 22.0298C6.33333 22.4117 6.48698 22.778 6.76047 23.0481C7.03396 23.3182 7.40489 23.4699 7.79167 23.4699C8.17844 23.4699 8.54937 23.3182 8.82286 23.0481C9.09635 22.778 9.25 22.4117 9.25 22.0298ZM29.6667 22.0298C29.6667 21.6479 29.513 21.2816 29.2395 21.0115C28.966 20.7414 28.5951 20.5897 28.2083 20.5897C27.8216 20.5897 27.4506 20.7414 27.1771 21.0115C26.9036 21.2816 26.75 21.6479 26.75 22.0298C26.75 22.4117 26.9036 22.778 27.1771 23.0481C27.4506 23.3182 27.8216 23.4699 28.2083 23.4699C28.5951 23.4699 28.966 23.3182 29.2395 23.0481C29.513 22.778 29.6667 22.4117 29.6667 22.0298ZM10.6237 29.2304C11.4798 34.9246 2.64375 34.9218 3.50125 29.2304H10.6237ZM32.4988 29.2304C33.3548 34.9246 24.5188 34.9218 25.3763 29.2304H32.4988Z" fill="#F79320"/>
          </svg>
        </div>
        <img src="https://mannatthemes.com/approx/default/assets/images/extra/corner.png" class="position-absolute bottom-0 end-0" alt="">
      </div>
    </div>

    <div class="col-md-4 animate__animated animate__fadeInDown">
      <div class="head-card cr position-relative bg-white main-color h-100 total d-flex justify-content-between aling-items-center rounded-3 py-2 ps-4 pe-5" data-bs-toggle="modal" data-bs-target="#exampleModalUpload">
        <div class="d-flex flex-column justify-content-center gap-0">
          <span class="fw-bold">Upload</span>
          <span class="fw-bold">File</span>
          <input type="file" #upload hidden>
        </div>

        <div class="icon-head p-1 rounded-2 mt-3">
          <svg width="27" height="27" viewBox="0 0 36 35" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.09 26.25C15.09 19.82 20.32 14.58 26.75 14.58H19.46C17.05 14.58 15.09 12.62 15.09 10.21V0.04C14.85 0.02 14.62 0 14.38 0H7.8C3.77 0 0.5 3.27 0.5 7.29V27.71C0.5 31.73 3.77 35 7.8 35H19.06C16.63 32.86 15.09 29.74 15.09 26.25ZM6.68 29.4C6.84 29.73 6.61 30.1 6.24 30.1C6.06 30.1 5.89 30 5.81 29.83L5.28 28.79L4.77 29.83C4.68 30 4.51 30.1 4.33 30.1C4.04 30.1 3.84 29.88 3.84 29.62C3.84 29.55 3.86 29.47 3.89 29.4L4.74 27.7L3.89 26C3.73 25.68 3.97 25.29 4.33 25.29C4.51 25.29 4.68 25.4 4.77 25.56L5.28 26.6L5.81 25.56C5.89 25.4 6.06 25.29 6.24 25.29C6.61 25.29 6.84 25.68 6.68 26L5.83 27.7L6.68 29.4ZM9.09 30.1H7.81C7.54 30.1 7.33 29.89 7.33 29.62V25.77C7.33 25.51 7.54 25.29 7.81 25.29C8.08 25.29 8.3 25.51 8.3 25.77V29.14H9.09C9.36 29.14 9.58 29.36 9.58 29.62C9.58 29.88 9.36 30.1 9.09 30.1ZM12.85 28.88H12.84C12.73 29.59 12.11 30.1 11.38 30.1C10.98 30.1 10.6 29.99 10.27 29.77C10.04 29.62 10 29.29 10.2 29.09C10.29 29.01 10.4 28.96 10.51 28.96C10.59 28.96 10.66 28.99 10.74 29.03C10.92 29.14 11.15 29.21 11.38 29.21C11.74 29.21 12 28.96 12.04 28.73C12.09 28.4 11.67 28.2 11.55 28.15C11 27.93 10.5 27.68 10.49 27.68C10.07 27.39 9.88 26.94 9.94 26.45C10 25.94 10.35 25.53 10.82 25.37C11.33 25.2 11.79 25.32 12.12 25.49C12.36 25.61 12.43 25.93 12.26 26.15C12.14 26.31 11.93 26.36 11.74 26.29C11.56 26.2 11.31 26.15 11.06 26.23C10.81 26.32 10.75 26.5 10.75 26.58C10.75 26.85 10.95 26.92 11.01 26.95C11.18 27.03 11.49 27.17 11.83 27.31C12.71 27.66 12.93 28.35 12.85 28.88ZM26.75 17.5C21.92 17.5 18 21.42 18 26.25C18 31.08 21.92 35 26.75 35C31.58 35 35.5 31.08 35.5 26.25C35.5 21.42 31.59 17.5 26.75 17.5ZM31.03 25.46C30.83 25.94 30.36 26.25 29.85 26.25H28.21V30.62C28.21 31.43 27.56 32.08 26.75 32.08C25.94 32.08 25.29 31.43 25.29 30.62V26.25H23.66C23.14 26.25 22.67 25.94 22.47 25.46C22.27 24.98 22.38 24.43 22.75 24.07L24.94 21.88C25.94 20.88 27.56 20.88 28.56 21.88L30.75 24.07C31.12 24.43 31.23 24.99 31.03 25.46ZM26.68 8.07L21.6 2.99C20.56 1.95 19.33 1.18 18 0.67V10.21C18 11.01 18.66 11.67 19.46 11.67H29C28.49 10.34 27.72 9.11 26.68 8.07Z" fill="#F97C21"/>
          </svg>
        </div>
        <img src="https://mannatthemes.com/approx/default/assets/images/extra/corner.png" class="position-absolute bottom-0 end-0" alt="">
      </div>
    </div>

    <!-- Section Tabel -->
    <div class="col-12 animate__animated animate__fadeInUp z-2">
      <div class="bg-white rounded-3 p-4">
        <div class="d-flex justify-content-between align-items-center gap-3 mb-3 flex-wrap">
          <div class="d-flex gap-3">
            <div class="search position-relative">
              <input type="search" (input)="filteredData($event)" class="form-control bg-white rounded-2" placeholder="Search... ">
              <svg width="30" height="31" viewBox="0 0 30 31" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12.5081 25.5129C15.3929 25.5167 18.1895 24.5185 20.4201 22.689L27.8808 30.1489C28.3776 30.6288 29.1692 30.615 29.649 30.1182C30.117 29.6335 30.117 28.8652 29.649 28.3805L22.1896 20.9194C26.5593 15.5706 25.766 7.69188 20.4177 3.32182C15.0693 -1.04824 7.19128 -0.254835 2.82159 5.09394C-1.54811 10.4427 -0.754773 18.3214 4.59356 22.6915C6.82738 24.5167 9.62347 25.5135 12.5081 25.5129Z"/>
                  <path d="M22.5 12.9998C22.5 18.5231 18.0228 23.0006 12.5 23.0006C6.97715 23.0006 2.5 18.5231 2.5 12.9998C2.5 7.4765 6.97715 2.99897 12.5 2.99897C18.0228 2.99897 22.5 7.4765 22.5 12.9998Z" fill="white"/>
              </svg>
            </div>
          </div>

          <div class="d-flex justify-content-center align-items-center gap-3">
            <div class="add-btn d-flex justify-content-start align-items-center gap-1 rounded-2 py-2 cr" data-bs-toggle="modal" data-bs-target="#exampleModal-add">
              <svg width="20" height="21" viewBox="0 0 20 21" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 0.5C8.02219 0.5 6.08879 1.08649 4.4443 2.1853C2.79981 3.28412 1.51809 4.8459 0.761209 6.67317C0.00433286 8.50043 -0.193701 10.5111 0.192152 12.4509C0.578004 14.3907 1.53041 16.1725 2.92894 17.5711C4.32746 18.9696 6.10929 19.922 8.0491 20.3079C9.98891 20.6937 11.9996 20.4957 13.8268 19.7388C15.6541 18.9819 17.2159 17.7002 18.3147 16.0557C19.4135 14.4112 20 12.4778 20 10.5C19.9971 7.84872 18.9426 5.30684 17.0679 3.4321C15.1932 1.55736 12.6513 0.502868 10 0.5ZM13.3333 11.3333H10.8333V13.8333C10.8333 14.0543 10.7455 14.2663 10.5893 14.4226C10.433 14.5789 10.221 14.6667 10 14.6667C9.77899 14.6667 9.56703 14.5789 9.41075 14.4226C9.25447 14.2663 9.16667 14.0543 9.16667 13.8333V11.3333H6.66667C6.44566 11.3333 6.2337 11.2455 6.07742 11.0893C5.92113 10.933 5.83334 10.721 5.83334 10.5C5.83334 10.279 5.92113 10.067 6.07742 9.91074C6.2337 9.75447 6.44566 9.66667 6.66667 9.66667H9.16667V7.16667C9.16667 6.94565 9.25447 6.73369 9.41075 6.57741C9.56703 6.42113 9.77899 6.33333 10 6.33333C10.221 6.33333 10.433 6.42113 10.5893 6.57741C10.7455 6.73369 10.8333 6.94565 10.8333 7.16667V9.66667H13.3333C13.5544 9.66667 13.7663 9.75447 13.9226 9.91074C14.0789 10.067 14.1667 10.279 14.1667 10.5C14.1667 10.721 14.0789 10.933 13.9226 11.0893C13.7663 11.2455 13.5544 11.3333 13.3333 11.3333Z"/>
              </svg>
              <h5 class="mb-0">Add Vehicles</h5>
            </div>
            <div>
              <i (click)="downloadExcel()" class=" text-success fa-solid fa-file-excel fs-3 cr"></i>
            </div>
            <div>
              <i (click)="downloadPDF()" class="text-danger fa-solid fa-file-pdf fs-3 cr"></i>
            </div>
          </div>
        </div>

        <div class="table-responsive">
          <table class="table table-striped text-center" #table>
            <thead class="table-head">
              <tr>
                <th class="fw-medium cr" (click)="sortTable('index')">#</th>
                <th class="fw-medium cr" (click)="sortTable('model')">Model</th>
                <th class="fw-medium cr" (click)="sortTable('carNumber')">Plate</th>
                <th class="fw-medium cr" (click)="sortTable('color')">Color</th>
                <th class="fw-medium cr" (click)="sortTable('licenseDate')">License Date</th>
                <th class="fw-medium cr" (click)="sortTable('driverName')">Driver Name</th>
                <th class="fw-medium cr" (click)="sortTable('petrolType')">Petrol Type</th>
                <th class="fw-medium cr">Actions</th>
              </tr>
            </thead>
            <tbody>
              @for(car of allCars() | paginate: { itemsPerPage:pageSize() , currentPage: currentPage(), totalItems:carCount()} ; track $index){
                <tr>
                  <td>
                    {{ $index + 1 }}
                  </td>
                  <td>
                    {{ car.model }}
                  </td>
                  <td>
                    {{ car.carNumber }}
                  </td>
                  <td>
                    {{ car.color }}
                  </td>
                  <td>
                    {{ car.licenseDate | date }}
                  </td>
                  <td>
                    @for(driver of car.driversName; track $index){
                      <p class="text-table">{{ driver }}</p>
                    }
                  </td>
                  <td>
                    {{ car.petrolType }}
                  </td>
                  <td>
                    <div class="d-flex justify-content-center align-items-center gap-2 mt-1">
                      <!-- <i [routerLink]="['/details/' + branch.id]" class="text-secondary fa-solid fa-circle-info cr"></i> -->
                      <div class="d-flex justify-content-center align-items-center" (click)="DeleteCar(car.id)">
                        <svg class="cr" width="16" height="16" viewBox="0 0 14 14" fill="#f00" xmlns="http://www.w3.org/2000/svg">
                          <g clip-path="url(#clip0_920_9284)">
                          <path d="M12.8333 2.33333H10.4411C10.1698 1.00392 8.99206 0 7.58331 0H6.41665C5.00848 0 3.83015 1.00392 3.5589 2.33333H1.16665C0.844646 2.33333 0.583313 2.59408 0.583313 2.91667C0.583313 3.23925 0.844646 3.5 1.16665 3.5H1.66831L2.42431 11.3628C2.56898 12.8666 3.81731 14 5.32756 14H8.66831C10.1809 14 11.4292 12.8642 11.5721 11.3587L12.3165 3.5H12.8327C13.1547 3.5 13.4161 3.23925 13.4161 2.91667C13.4161 2.59408 13.1553 2.33333 12.8333 2.33333ZM6.41665 1.16667H7.58331C8.34281 1.16667 8.98448 1.65608 9.22598 2.33333H4.77456C5.01606 1.65608 5.65773 1.16667 6.41723 1.16667H6.41665ZM9.1624 9.50425C9.39048 9.73233 9.39048 10.101 9.1624 10.3291C9.04865 10.4428 8.89931 10.5 8.74998 10.5C8.60065 10.5 8.45131 10.4428 8.33756 10.3291L6.99998 8.9915L5.6624 10.3291C5.54865 10.4428 5.39931 10.5 5.24998 10.5C5.10065 10.5 4.95131 10.4428 4.83756 10.3291C4.60948 10.101 4.60948 9.73233 4.83756 9.50425L6.17515 8.16667L4.83756 6.82908C4.60948 6.601 4.60948 6.23233 4.83756 6.00425C5.06565 5.77617 5.43431 5.77617 5.6624 6.00425L6.99998 7.34183L8.33756 6.00425C8.56565 5.77617 8.93431 5.77617 9.1624 6.00425C9.39048 6.23233 9.39048 6.601 9.1624 6.82908L7.82481 8.16667L9.1624 9.50425Z"/>
                          </g>
                          <defs>
                          <clipPath id="clip0_920_9284">
                          <rect width="14" height="14" fill="white"/>
                          </clipPath>
                          </defs>
                        </svg>
                      </div>
                    </div>
                  </td>
                </tr>
              }
            </tbody>
          </table>

          <div class="d-flex justify-content-between align-items-center">
            <div>
              <select name="pageSize" id="pageSize" class="form-select py-1" (change)="onChangePageSize($event)">
                <option value="10">10</option>
                <option value="25">25</option>
                <option value="50">50</option>
                <option value="100">100</option>
                <option value="10000">All</option>
              </select>
            </div>

            <div>
              <pagination-controls (pageChange)="onPageChange($event)" class="d-flex justify-content-start my-pagination"></pagination-controls>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Modal Add Vehicles -->
<div class="modal fade" id="exampleModal-add" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content p-3">
      <div class="modal-header justify-content-end border-0 py-0 pt-2">
        <svg class="cr" data-bs-dismiss="modal" width="37" height="37" viewBox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_893_6942)">
          <path d="M18.5 0C8.29879 0 0 8.29879 0 18.5C0 28.7012 8.29879 37 18.5 37C28.7012 37 37 28.7012 37 18.5C37 8.29879 28.7012 0 18.5 0ZM25.846 24.8285C26.3949 25.4807 26.3116 26.4535 25.661 27.0007C25.3712 27.2443 25.0182 27.363 24.6682 27.363C24.2288 27.363 23.7925 27.1765 23.4873 26.8157L18.5 20.8927L13.5127 26.8157C13.209 27.1765 12.7727 27.363 12.3318 27.363C11.9818 27.363 11.6288 27.2443 11.339 27.0007C10.6884 26.4535 10.6036 25.4807 11.154 24.8285L16.4835 18.5L11.154 12.1715C10.6051 11.5193 10.6884 10.5465 11.339 9.99925C11.9911 9.44887 12.9654 9.53521 13.5112 10.1842L18.4985 16.1073L23.4858 10.1842C24.0315 9.53675 25.0058 9.44887 25.658 9.99925C26.3085 10.5465 26.3933 11.5193 25.843 12.1715L20.5134 18.5L25.843 24.8285H25.846Z" fill="#F79320"/>
          </g>
          <defs>
          <clipPath id="clip0_893_6942">
          <rect width="37" height="37" fill="white"/>
          </clipPath>
          </defs>
        </svg>
      </div>
      <div class="modal-body">
        <div class="d-flex gap-2">
          <svg width="47" height="47" viewBox="0 0 36 34" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.5 14.8292V11.2289C0.5 10.656 0.730468 10.1065 1.1407 9.70142C1.55094 9.29631 2.10734 9.06872 2.6875 9.06872C2.6875 9.06872 4.08604 9.06872 4.14583 9.06872C5.04817 7.08843 6.11494 5.1853 7.33521 3.3788C8.06385 2.44315 9.07355 1.7591 10.2198 1.42456C12.7879 0.191814 23.2121 0.191814 25.7802 1.42456C26.9265 1.7591 27.9361 2.44315 28.6648 3.3788C29.8851 5.1853 30.9518 7.08843 31.8542 9.06872C31.914 9.06872 33.3125 9.06872 33.3125 9.06872C33.8927 9.06872 34.4491 9.29631 34.8593 9.70142C35.2695 10.1065 35.5 10.656 35.5 11.2289V14.8292C29.7054 13.9666 23.8592 13.4855 18 13.3891C12.1408 13.4855 6.29456 13.9666 0.5 14.8292ZM35.5 17.7426V20.5897C35.5 22.1175 34.8854 23.5827 33.7915 24.663C32.6975 25.7433 31.2138 26.3502 29.6667 26.3502H6.33333C4.78624 26.3502 3.30251 25.7433 2.20854 24.663C1.11458 23.5827 0.5 22.1175 0.5 20.5897V17.7483C6.29378 16.8736 12.14 16.3795 18 16.2693C23.86 16.3795 29.7062 16.8736 35.5 17.7483V17.7426ZM9.25 22.0298C9.25 21.6479 9.09635 21.2816 8.82286 21.0115C8.54937 20.7414 8.17844 20.5897 7.79167 20.5897C7.40489 20.5897 7.03396 20.7414 6.76047 21.0115C6.48698 21.2816 6.33333 21.6479 6.33333 22.0298C6.33333 22.4117 6.48698 22.778 6.76047 23.0481C7.03396 23.3182 7.40489 23.4699 7.79167 23.4699C8.17844 23.4699 8.54937 23.3182 8.82286 23.0481C9.09635 22.778 9.25 22.4117 9.25 22.0298ZM29.6667 22.0298C29.6667 21.6479 29.513 21.2816 29.2395 21.0115C28.966 20.7414 28.5951 20.5897 28.2083 20.5897C27.8216 20.5897 27.4506 20.7414 27.1771 21.0115C26.9036 21.2816 26.75 21.6479 26.75 22.0298C26.75 22.4117 26.9036 22.778 27.1771 23.0481C27.4506 23.3182 27.8216 23.4699 28.2083 23.4699C28.5951 23.4699 28.966 23.3182 29.2395 23.0481C29.513 22.778 29.6667 22.4117 29.6667 22.0298ZM10.6237 29.2304C11.4798 34.9246 2.64375 34.9218 3.50125 29.2304H10.6237ZM32.4988 29.2304C33.3548 34.9246 24.5188 34.9218 25.3763 29.2304H32.4988Z" fill="#F79320"/>
          </svg>

          <div>
            <h4 class="fw-normal">New</h4>
            <h3>Vehicles</h3>
          </div>
        </div>

        <div class="row g-2">
          <div class="col-md-6">
            <form class="w-100" [formGroup]="carForm">
              <div class="col-md-12">
                <div class="row">
                  <div class="col-12">
                    <label for="model">Car Model</label>
                    <input type="text" formControlName="model" name="model" id="model" class="form-control" placeholder="Car Model...">
                  </div>

                  <div class="col-12">
                    <label for="color">Color</label>
                    <input type="text" formControlName="color" name="color" id="color" class="form-control" placeholder="Color...">
                  </div>


                  <div class="col-12">
                    <label for="petrolType">petrolType</label>
                    <input type="text" formControlName="petrolType" name="petrolType" id="petrolType" class="form-control" placeholder="Plate...">
                  </div>

                  <div class="col-12">
                    <label for="licenseDate">License Date</label>
                    <input type="date" formControlName="licenseDate" name="licenseDate" id="licenseDate" class="form-control" placeholder="License Date...">
                  </div>

                  <div class="col-12">
                    <label for="driverId">Drivers</label>
                    <div class="d-flex gap-2">
                      <div formArrayName="driversId" class="d-flex flex-column gap-2 w-100">
                        <div *ngFor="let driver of drivers.controls; let i = index" class="d-flex gap-2">
                          <select name="driverId" id="driverId" class="form-select" [formControlName]="i">
                            <option value="" selected disabled>Select Driver...</option>
                            @for(driver of allDrivers();track $index){
                              <option [value]="driver.id">{{driver.fullName}}</option>
                            }
                          </select>
                          @if(i > 0){
                            <span class="text-danger mt-2 cr" (click)="removeDriver(i)"><i class="fa-solid fa-minus"></i></span>
                          }
                        </div>
                      </div>
                      @if(driverCount() <= 2){
                        <span type="button" class="add-car-btn d-flex justify-content-center align-items-center rounded-circle" (click)="addDriver()"><i class="fa-solid fa-plus"></i></span>
                      }
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="col-md-6">
            <div class="row g-2">
              <div class="col-6">
                <label for="carNumber" class="letter">Car Number</label>
                <input type="number" [(ngModel)]="carNumberEn" name="carNumber" id="carNumber" class="form-control" placeholder="Number...">
              </div>

              <div class="col-6">
                <label for="carLetter" class="numbers mt-2">Car Letters</label>
                <div class="d-flex gap-1">
                  <input type="text" name="carLetter" [(ngModel)]="carLetterEn1" id="carLetter" class="form-control" placeholder="Letter...">
                  <input type="text" name="carLetter" [(ngModel)]="carLetterEn2" id="carLetter" class="form-control" placeholder="Letter...">
                  <input type="text" name="carLetter" [(ngModel)]="carLetterEn3" id="carLetter" class="form-control" placeholder="Letter...">
                </div>
              </div>

              <div class="col-6">
                <input type="text" [(ngModel)]="carNumberAr" name="carNumber" id="carNumber" class="form-control" placeholder="الأرقام بالعربية...">
              </div>

              <div class="col-6">
                <div class="d-flex gap-1">
                  <input type="text" name="carLetter" [(ngModel)]="carLetterAr1" id="carLetter" class="form-control" placeholder="الحروف بالعربية...">
                  <input type="text" name="carLetter" [(ngModel)]="carLetterAr2" id="carLetter" class="form-control" placeholder="الحروف بالعربية...">
                  <input type="text" name="carLetter" [(ngModel)]="carLetterAr3" id="carLetter" class="form-control" placeholder="الحروف بالعربية...">
                </div>
              </div>

              <div class="col-12">
                <table class="table text-center plate-table">
                  <tbody>
                    <tr>
                      <td>
                        {{carNumberEn()}}
                      </td>
                      <td>
                        {{carLetterEn1()}} {{carLetterEn2()}} {{carLetterEn3()}}
                      </td>
                      <td class="row-ksa-img" rowspan="2">
                        <div class="d-flex flex-column justify-content-center align-items-center">
                          <img src="../../../../assets/image/sudi logo.png" alt="">
                          <div class="d-flex flex-column justify-content-center align-items-center">
                            <span>السعودية</span>
                            <span>K</span>
                            <span>S</span>
                            <span>A</span>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td>{{carNumberAr()}}</td>
                      <td>{{carLetterAr1()}} {{carLetterAr2()}} {{carLetterAr3()}}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <div class="col-12">
            <div class="d-flex justify-content-end align-items-center gap-2">
              <button (click)="submitCarForm()" class="save-btn btn d-flex justify-content-center align-items-center gap-2">
                <span>Save</span>
                <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_893_4557)">
                  <path d="M17.7083 25H9.375C4.20521 25 0 20.7937 0 15.625V7.29167C0 6.71667 0.465625 6.25 1.04167 6.25C1.61771 6.25 2.08333 6.71667 2.08333 7.29167V15.625C2.08333 19.6458 5.35521 22.9167 9.375 22.9167H17.7083C18.2844 22.9167 18.75 23.3833 18.75 23.9583C18.75 24.5333 18.2844 25 17.7083 25ZM17.7083 0H11.4583V5.20833H17.7083V0ZM25 6.52812V15.625C25 18.501 22.6677 20.8333 19.7917 20.8333H9.375C6.49896 20.8333 4.16667 18.501 4.16667 15.625V5.20833C4.16667 2.33646 6.50312 0 9.375 0V5.20833C9.375 6.35938 10.3073 7.29167 11.4583 7.29167H17.7083C18.8594 7.29167 19.7917 6.35938 19.7917 5.20833V0.288542C20.1354 0.444792 20.4552 0.655208 20.7229 0.925L24.0937 4.32604C24.674 4.91146 25 5.70312 25 6.52812ZM18.75 14.0625C18.75 12.049 17.1177 10.4167 15.1042 10.4167C13.0906 10.4167 11.4583 12.049 11.4583 14.0625C11.4583 16.076 13.0906 17.7083 15.1042 17.7083C17.1177 17.7083 18.75 16.076 18.75 14.0625ZM16.6667 14.0625C16.6667 14.925 15.9667 15.625 15.1042 15.625C14.2417 15.625 13.5417 14.925 13.5417 14.0625C13.5417 13.2 14.2417 12.5 15.1042 12.5C15.9667 12.5 16.6667 13.2 16.6667 14.0625Z"/>
                  <circle cx="15" cy="14" r="1" fill="#F97C21"/>
                  </g>
                  <defs>
                  <clipPath id="clip0_893_4557">
                  <rect width="25" height="25" fill="white"/>
                  </clipPath>
                  </defs>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Modal Upload File Excel-->
<div class="modal fade" id="exampleModalUpload" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <h4>Please ensure that the Excel sheet contains the following columns:</h4>
        <ul>
          <li>Model</li>
          <li>Car Number</li>
          <li>Color</li>
          <li>Pertrol Type</li>
          <li>Card Number</li>
        </ul>
        <div>
          <button class="btn download-template my-2" (click)="downloadTemplateExcel()">Download Template <i class="fa-solid fa-cloud-arrow-down"></i></button>
          <ngx-dropzone (change)="onSelect($event)">
            <ngx-dropzone-label class="main-color fs-2">Choose Files <i class="fa-solid fa-upload"></i></ngx-dropzone-label>
            <ngx-dropzone-preview *ngFor="let f of files()" [removable]="true" (removed)="onRemove(f)">
                <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
            </ngx-dropzone-preview>
          </ngx-dropzone>
        </div>
      </div>
      <div class="modal-footer">
        <div class="d-flex justify-content-end align-items-center gap-2">
          <button class="save-btn btn d-flex justify-content-center align-items-center gap-2" (click)="uploadFileExcel()">
            <span>Save</span>
            <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_893_4557)">
              <path d="M17.7083 25H9.375C4.20521 25 0 20.7937 0 15.625V7.29167C0 6.71667 0.465625 6.25 1.04167 6.25C1.61771 6.25 2.08333 6.71667 2.08333 7.29167V15.625C2.08333 19.6458 5.35521 22.9167 9.375 22.9167H17.7083C18.2844 22.9167 18.75 23.3833 18.75 23.9583C18.75 24.5333 18.2844 25 17.7083 25ZM17.7083 0H11.4583V5.20833H17.7083V0ZM25 6.52812V15.625C25 18.501 22.6677 20.8333 19.7917 20.8333H9.375C6.49896 20.8333 4.16667 18.501 4.16667 15.625V5.20833C4.16667 2.33646 6.50312 0 9.375 0V5.20833C9.375 6.35938 10.3073 7.29167 11.4583 7.29167H17.7083C18.8594 7.29167 19.7917 6.35938 19.7917 5.20833V0.288542C20.1354 0.444792 20.4552 0.655208 20.7229 0.925L24.0937 4.32604C24.674 4.91146 25 5.70312 25 6.52812ZM18.75 14.0625C18.75 12.049 17.1177 10.4167 15.1042 10.4167C13.0906 10.4167 11.4583 12.049 11.4583 14.0625C11.4583 16.076 13.0906 17.7083 15.1042 17.7083C17.1177 17.7083 18.75 16.076 18.75 14.0625ZM16.6667 14.0625C16.6667 14.925 15.9667 15.625 15.1042 15.625C14.2417 15.625 13.5417 14.925 13.5417 14.0625C13.5417 13.2 14.2417 12.5 15.1042 12.5C15.9667 12.5 16.6667 13.2 16.6667 14.0625Z"/>
              <circle cx="15" cy="14" r="1" fill="#F97C21"/>
              </g>
              <defs>
              <clipPath id="clip0_893_4557">
              <rect width="25" height="25" fill="white"/>
              </clipPath>
              </defs>
            </svg>
          </button>
        </div>
        <span data-bs-dismiss="modal"></span>
      </div>
    </div>
  </div>
</div>

<!-- Upload Table To Client-->
<table class="d-none" #template>
  <thead>
    <tr>
      <th>Model</th>
      <th>Car Number</th>
      <th>Color</th>
      <th>Petrol Type</th>
      <th>Liecnies Date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Ex. Model</td>
      <td>Ex. SCV 123</td>
      <td>Ex. Color</td>
      <td>Ex. 95</td>
      <td>YYYY-MM-DD</td>
    </tr>
  </tbody>
</table>
