<section>
  <div class="row g-4">
    <div class="col-12 animate__animated animate__fadeInDown">
      <app-header></app-header>
    </div>

    <div class="col-md-4 animate__animated animate__fadeInDown">
      <div class="head-card position-relative bg-white main-color h-100 total d-flex justify-content-between aling-items-center rounded-3 py-2 ps-4 pe-5">
        <div class="d-flex flex-column justify-content-center align-items-center">
          <p class="m-0">Total Companies</p>
          <h3>
            {{companyCount()}}
          </h3>
        </div>
        <div class="icon-head p-1 rounded-2 mt-3">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="#f79320" xmlns="http://www.w3.org/2000/svg">
            <path d="M9.15833 0.795914H5.32499C4.05416 0.795914 2.83538 1.30075 1.93677 2.19936C1.03816 3.09797 0.533325 4.31675 0.533325 5.58758L0.533325 19.0042C0.533325 19.6335 0.657265 20.2566 0.898069 20.8379C1.13887 21.4193 1.49182 21.9475 1.93677 22.3925C2.83538 23.2911 4.05416 23.7959 5.32499 23.7959H13.95V5.58758C13.95 4.95833 13.8261 4.33524 13.5852 3.75389C13.3444 3.17254 12.9915 2.64431 12.5465 2.19936C12.1016 1.75441 11.5734 1.40146 10.992 1.16066C10.4107 0.919854 9.78758 0.795914 9.15833 0.795914ZM5.32499 19.0042H4.36666C4.11249 19.0042 3.86874 18.9033 3.68901 18.7236C3.50929 18.5438 3.40833 18.3001 3.40833 18.0459C3.40833 17.7917 3.50929 17.548 3.68901 17.3683C3.86874 17.1885 4.11249 17.0876 4.36666 17.0876H5.32499C5.57916 17.0876 5.82291 17.1885 6.00264 17.3683C6.18236 17.548 6.28333 17.7917 6.28333 18.0459C6.28333 18.3001 6.18236 18.5438 6.00264 18.7236C5.82291 18.9033 5.57916 19.0042 5.32499 19.0042ZM5.32499 15.1709H4.36666C4.11249 15.1709 3.86874 15.0699 3.68901 14.8902C3.50929 14.7105 3.40833 14.4667 3.40833 14.2126C3.40833 13.9584 3.50929 13.7147 3.68901 13.5349C3.86874 13.3552 4.11249 13.2542 4.36666 13.2542H5.32499C5.57916 13.2542 5.82291 13.3552 6.00264 13.5349C6.18236 13.7147 6.28333 13.9584 6.28333 14.2126C6.28333 14.4667 6.18236 14.7105 6.00264 14.8902C5.82291 15.0699 5.57916 15.1709 5.32499 15.1709ZM5.32499 11.3376H4.36666C4.11249 11.3376 3.86874 11.2366 3.68901 11.0569C3.50929 10.8772 3.40833 10.6334 3.40833 10.3792C3.40833 10.1251 3.50929 9.88133 3.68901 9.7016C3.86874 9.52188 4.11249 9.42091 4.36666 9.42091H5.32499C5.57916 9.42091 5.82291 9.52188 6.00264 9.7016C6.18236 9.88133 6.28333 10.1251 6.28333 10.3792C6.28333 10.6334 6.18236 10.8772 6.00264 11.0569C5.82291 11.2366 5.57916 11.3376 5.32499 11.3376ZM5.32499 7.50425H4.36666C4.11249 7.50425 3.86874 7.40328 3.68901 7.22356C3.50929 7.04384 3.40833 6.80008 3.40833 6.54591C3.40833 6.29175 3.50929 6.04799 3.68901 5.86827C3.86874 5.68855 4.11249 5.58758 4.36666 5.58758H5.32499C5.57916 5.58758 5.82291 5.68855 6.00264 5.86827C6.18236 6.04799 6.28333 6.29175 6.28333 6.54591C6.28333 6.80008 6.18236 7.04384 6.00264 7.22356C5.82291 7.40328 5.57916 7.50425 5.32499 7.50425ZM10.1167 19.0042H9.15833C8.90416 19.0042 8.6604 18.9033 8.48068 18.7236C8.30096 18.5438 8.19999 18.3001 8.19999 18.0459C8.19999 17.7917 8.30096 17.548 8.48068 17.3683C8.6604 17.1885 8.90416 17.0876 9.15833 17.0876H10.1167C10.3708 17.0876 10.6146 17.1885 10.7943 17.3683C10.974 17.548 11.075 17.7917 11.075 18.0459C11.075 18.3001 10.974 18.5438 10.7943 18.7236C10.6146 18.9033 10.3708 19.0042 10.1167 19.0042ZM10.1167 15.1709H9.15833C8.90416 15.1709 8.6604 15.0699 8.48068 14.8902C8.30096 14.7105 8.19999 14.4667 8.19999 14.2126C8.19999 13.9584 8.30096 13.7147 8.48068 13.5349C8.6604 13.3552 8.90416 13.2542 9.15833 13.2542H10.1167C10.3708 13.2542 10.6146 13.3552 10.7943 13.5349C10.974 13.7147 11.075 13.9584 11.075 14.2126C11.075 14.4667 10.974 14.7105 10.7943 14.8902C10.6146 15.0699 10.3708 15.1709 10.1167 15.1709ZM10.1167 11.3376H9.15833C8.90416 11.3376 8.6604 11.2366 8.48068 11.0569C8.30096 10.8772 8.19999 10.6334 8.19999 10.3792C8.19999 10.1251 8.30096 9.88133 8.48068 9.7016C8.6604 9.52188 8.90416 9.42091 9.15833 9.42091H10.1167C10.3708 9.42091 10.6146 9.52188 10.7943 9.7016C10.974 9.88133 11.075 10.1251 11.075 10.3792C11.075 10.6334 10.974 10.8772 10.7943 11.0569C10.6146 11.2366 10.3708 11.3376 10.1167 11.3376ZM10.1167 7.50425H9.15833C8.90416 7.50425 8.6604 7.40328 8.48068 7.22356C8.30096 7.04384 8.19999 6.80008 8.19999 6.54591C8.19999 6.29175 8.30096 6.04799 8.48068 5.86827C8.6604 5.68855 8.90416 5.58758 9.15833 5.58758H10.1167C10.3708 5.58758 10.6146 5.68855 10.7943 5.86827C10.974 6.04799 11.075 6.29175 11.075 6.54591C11.075 6.80008 10.974 7.04384 10.7943 7.22356C10.6146 7.40328 10.3708 7.50425 10.1167 7.50425ZM18.7417 5.58758H15.8667V23.7959H18.7417C20.012 23.7944 21.2299 23.2891 22.1282 22.3908C23.0265 21.4925 23.5318 20.2746 23.5333 19.0042V10.3792C23.5318 9.10888 23.0265 7.89099 22.1282 6.99271C21.2299 6.09443 20.012 5.5891 18.7417 5.58758ZM19.7 19.0042C19.5105 19.0042 19.3252 18.948 19.1676 18.8427C19.01 18.7374 18.8871 18.5878 18.8146 18.4127C18.7421 18.2375 18.7231 18.0448 18.7601 17.859C18.7971 17.6731 18.8883 17.5023 19.0223 17.3683C19.1564 17.2342 19.3271 17.143 19.513 17.106C19.6989 17.069 19.8916 17.088 20.0667 17.1605C20.2418 17.2331 20.3915 17.3559 20.4968 17.5135C20.6021 17.6711 20.6583 17.8564 20.6583 18.0459C20.6583 18.3001 20.5574 18.5438 20.3776 18.7236C20.1979 18.9033 19.9542 19.0042 19.7 19.0042ZM19.7 15.1709C19.5105 15.1709 19.3252 15.1147 19.1676 15.0094C19.01 14.9041 18.8871 14.7544 18.8146 14.5793C18.7421 14.4042 18.7231 14.2115 18.7601 14.0256C18.7971 13.8397 18.8883 13.669 19.0223 13.5349C19.1564 13.4009 19.3271 13.3096 19.513 13.2727C19.6989 13.2357 19.8916 13.2547 20.0667 13.3272C20.2418 13.3997 20.3915 13.5226 20.4968 13.6802C20.6021 13.8378 20.6583 14.023 20.6583 14.2126C20.6583 14.4667 20.5574 14.7105 20.3776 14.8902C20.1979 15.0699 19.9542 15.1709 19.7 15.1709ZM19.7 11.3376C19.5105 11.3376 19.3252 11.2814 19.1676 11.1761C19.01 11.0708 18.8871 10.9211 18.8146 10.746C18.7421 10.5709 18.7231 10.3782 18.7601 10.1923C18.7971 10.0064 18.8883 9.83563 19.0223 9.7016C19.1564 9.56758 19.3271 9.47631 19.513 9.43933C19.6989 9.40235 19.8916 9.42133 20.0667 9.49386C20.2418 9.5664 20.3915 9.68923 20.4968 9.84682C20.6021 10.0044 20.6583 10.1897 20.6583 10.3792C20.6583 10.6334 20.5574 10.8772 20.3776 11.0569C20.1979 11.2366 19.9542 11.3376 19.7 11.3376Z"/>
          </svg>
        </div>
        <img loading="lazy" src="assets/image/corner-img.png" class="position-absolute bottom-0 end-0" alt="">
      </div>
    </div>

    <div class="col-12 animate__animated animate__fadeInUp">
      <div class="col-12 animate__animated animate__fadeInUp z-2">
        <div class="bg-white rounded-3 p-4">
          <div class="d-flex justify-content-between align-items-center gap-3 mb-3 flex-wrap">
            <div class="d-flex gap-3">
              <div class="search position-relative">
                <input type="search" (input)="filteredData($event)" class="form-control bg-white rounded-2" placeholder="Search... ">
                <svg width="30" height="31" viewBox="0 0 30 31" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.5081 25.5129C15.3929 25.5167 18.1895 24.5185 20.4201 22.689L27.8808 30.1489C28.3776 30.6288 29.1692 30.615 29.649 30.1182C30.117 29.6335 30.117 28.8652 29.649 28.3805L22.1896 20.9194C26.5593 15.5706 25.766 7.69188 20.4177 3.32182C15.0693 -1.04824 7.19128 -0.254835 2.82159 5.09394C-1.54811 10.4427 -0.754773 18.3214 4.59356 22.6915C6.82738 24.5167 9.62347 25.5135 12.5081 25.5129Z"/>
                    <path d="M22.5 12.9998C22.5 18.5231 18.0228 23.0006 12.5 23.0006C6.97715 23.0006 2.5 18.5231 2.5 12.9998C2.5 7.4765 6.97715 2.99897 12.5 2.99897C18.0228 2.99897 22.5 7.4765 22.5 12.9998Z" fill="white"/>
                </svg>
              </div>
            </div>
          </div>

          <div class="table-responsive">
            <table class="table table-striped text-center" #table>
              <thead class="table-head">
                <tr>
                  <th class="fw-medium cr" (click)="sortTable('index')">#</th>
                  <th class="fw-medium cr" (click)="sortTable('name')">Company Name</th>
                  <th class="fw-medium cr" (click)="sortTable('companyEmail')">Company Email</th>
                  <th class="fw-medium cr" (click)="sortTable('companyPhone')">Company Phone</th>
                  <th class="fw-medium cr">Actions</th>
                </tr>
              </thead>
              <tbody>
                @for(company of allCompanies() | paginate: { itemsPerPage:pageSize() , currentPage: currentPage(), totalItems:companyCount()} ; track $index){
                  <tr>
                    <td>
                      {{ $index + 1 }}
                    </td>
                    <td>
                      {{ company.name }}
                    </td>
                    <td>
                      {{ company.companyEmail }}
                    </td>
                    <td>
                      {{ company.companyPhone }}
                    </td>
                    <td>
                      <div class="d-flex justify-content-center align-items-center gap-2 mt-1">
                        <i [routerLink]="['/company-details/' + company.id]" class="text-secondary fa-solid fa-circle-info cr"></i>
                        <div class="d-flex justify-content-center align-items-center" (click)="deleteCompnay(company.id)">
                          <svg class="cr" width="16" height="16" viewBox="0 0 14 14" fill="#f00" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_920_9284)">
                            <path d="M12.8333 2.33333H10.4411C10.1698 1.00392 8.99206 0 7.58331 0H6.41665C5.00848 0 3.83015 1.00392 3.5589 2.33333H1.16665C0.844646 2.33333 0.583313 2.59408 0.583313 2.91667C0.583313 3.23925 0.844646 3.5 1.16665 3.5H1.66831L2.42431 11.3628C2.56898 12.8666 3.81731 14 5.32756 14H8.66831C10.1809 14 11.4292 12.8642 11.5721 11.3587L12.3165 3.5H12.8327C13.1547 3.5 13.4161 3.23925 13.4161 2.91667C13.4161 2.59408 13.1553 2.33333 12.8333 2.33333ZM6.41665 1.16667H7.58331C8.34281 1.16667 8.98448 1.65608 9.22598 2.33333H4.77456C5.01606 1.65608 5.65773 1.16667 6.41723 1.16667H6.41665ZM9.1624 9.50425C9.39048 9.73233 9.39048 10.101 9.1624 10.3291C9.04865 10.4428 8.89931 10.5 8.74998 10.5C8.60065 10.5 8.45131 10.4428 8.33756 10.3291L6.99998 8.9915L5.6624 10.3291C5.54865 10.4428 5.39931 10.5 5.24998 10.5C5.10065 10.5 4.95131 10.4428 4.83756 10.3291C4.60948 10.101 4.60948 9.73233 4.83756 9.50425L6.17515 8.16667L4.83756 6.82908C4.60948 6.601 4.60948 6.23233 4.83756 6.00425C5.06565 5.77617 5.43431 5.77617 5.6624 6.00425L6.99998 7.34183L8.33756 6.00425C8.56565 5.77617 8.93431 5.77617 9.1624 6.00425C9.39048 6.23233 9.39048 6.601 9.1624 6.82908L7.82481 8.16667L9.1624 9.50425Z"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_920_9284">
                            <rect width="14" height="14" fill="white"/>
                            </clipPath>
                            </defs>
                          </svg>
                        </div>
                      </div>
                    </td>
                  </tr>
                }
              </tbody>
            </table>

            <div class="d-flex justify-content-between align-items-center">
              <div>
                <select name="pageSize" id="pageSize" class="form-select py-1" (change)="onChangePageSize($event)">
                  <option value="10">10</option>
                  <option value="25">25</option>
                  <option value="50">50</option>
                  <option value="100">100</option>
                  <option value="10000">All</option>
                </select>
              </div>

              <div>
                <pagination-controls (pageChange)="onPageChange($event)" class="d-flex justify-content-start my-pagination"></pagination-controls>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
