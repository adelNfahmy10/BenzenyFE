import{l as K}from"./chunk-H2XF4YMM.js";import{b as k,c as V,d as U,g as G,h as $,i as R,k as j,l as z,m as B,n as Z,o as q,q as J}from"./chunk-Y73DIF7F.js";import{a as Q}from"./chunk-C6PEE2BP.js";import{a as c}from"./chunk-MFRZFDYH.js";import"./chunk-Q7WSA7Y3.js";import{a as L}from"./chunk-CXO5S2FW.js";import{h as N}from"./chunk-NKPCLCB2.js";import{Gb as l,Hb as _,Ia as u,Ib as I,Ma as r,O as w,Pb as T,Sb as H,U as m,X as D,Ya as C,cb as y,eb as p,fa as f,ga as h,ha as A,ia as E,jb as b,kb as S,lb as M,mb as O,nb as n,ob as t,pb as a,sb as P,ta as F,xb as x,yb as g}from"./chunk-JIEL56YO.js";import"./chunk-CWTPBX7D.js";var W=(()=>{class i{constructor(){this._HttpClient=m(L)}GetAllAds(){return this._HttpClient.get(`${c.baseURL}api/Advertiesment/v1/GetAll/GetAll`)}GetActiveAds(){return this._HttpClient.get(`${c.baseURL}api/Advertiesment/v1/GetAllActive/GetAllActive`)}CreateNewAds(e){return this._HttpClient.post(`${c.baseURL}api/Advertiesment/v1/Create/CreateNewAds`,e)}SwitchActiveAds(e){return this._HttpClient.post(`${c.baseURL}api/Advertiesment/v1/AdsSwitchActive/AdsSwitchActive/${e}`,{})}EditAds(e){return this._HttpClient.get(`${c.baseURL}api/Advertiesment/v1/Edit/EditAds`,e)}SoftDeleteAds(e){return this._HttpClient.delete(`${c.baseURL}api/Advertiesment/v1/SoftDelete/SoftDelete/${e}`)}HardDeleteAds(e){return this._HttpClient.delete(`${c.baseURL}api/Advertiesment/v1/HardDelete/HardDelete/${e}`)}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Y=(i,s)=>({"active-btn":i,"dis-active-btn":s});function ee(i,s){i&1&&(n(0,"span"),l(1,"Corperate Company"),t())}function te(i,s){i&1&&(n(0,"span"),l(1,"Mobile"),t())}function ne(i,s){if(i&1){let e=P();n(0,"tr")(1,"th"),a(2,"img",39),t(),n(3,"td"),l(4),t(),n(5,"td"),l(6),t(),n(7,"td")(8,"a",40),l(9),t()(),n(10,"td"),y(11,ee,2,0,"span")(12,te,2,0),t(),n(13,"td"),l(14),t(),n(15,"td")(16,"div",41)(17,"span",42),x("click",function(){let d=f(e).$implicit,v=g(2);return h(v.switchActiveAds(d.id))}),l(18),t(),n(19,"div",43),x("click",function(){let d=f(e).$implicit,v=g(2);return h(v.deleteAds(d.id))}),A(),n(20,"svg",44)(21,"g",45),a(22,"path",46),t(),n(23,"defs")(24,"clipPath",47),a(25,"rect",48),t()()()()()()()}if(i&2){let e=s.$implicit;r(2),p("src",e.image,u),r(2),_(e.name),r(2),_(e.description),r(2),p("href",e.url,u),r(),_(e.url),r(2),b(11,e.type==1?11:e.type==2?12:-1),r(3),_(e.durationInMonths),r(3),p("ngClass",H(9,Y,e.isActive,!e.isActive)),r(),I(" ",e.isActive?"Active":"DeActive"," ")}}function ie(i,s){if(i&1){let e=P();n(0,"button",2),a(1,"i",3),t(),n(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"h1",8),l(7,"Add Advertiesment"),t(),a(8,"button",9),t(),n(9,"div",10)(10,"form",11)(11,"div",12)(12,"label",13),l(13,"ADS Type"),t(),n(14,"select",14)(15,"option",15),l(16,"Corperate Company"),t(),n(17,"option",16),l(18,"Mobile"),t()()(),n(19,"div",12)(20,"label",17),l(21,"ADS Name"),t(),a(22,"input",18),t(),n(23,"div",12)(24,"label",19),l(25,"URL ADS"),t(),a(26,"input",20),t(),n(27,"div",12)(28,"label",21),l(29,"Duration ADS"),t(),a(30,"input",22),t(),n(31,"div",23)(32,"label",24),l(33,"ADS Description"),t(),a(34,"textarea",25),t(),n(35,"div",12)(36,"label",17),l(37,"ADS Image"),t(),n(38,"input",26),x("change",function(d){f(e);let v=g();return h(v.onFileSelected(d))}),t()()()(),n(39,"div",27)(40,"div",28),x("click",function(){f(e);let d=g();return h(d.submitAdsForm())}),n(41,"button",29)(42,"span"),l(43,"Save"),t(),A(),n(44,"svg",30)(45,"g",31),a(46,"path",32)(47,"circle",33),t(),n(48,"defs")(49,"clipPath",34),a(50,"rect",35),t()()()()()()()()(),E(),n(51,"div",36)(52,"table",37)(53,"thead")(54,"tr")(55,"th"),l(56,"Photo"),t(),n(57,"th"),l(58,"Name"),t(),n(59,"th"),l(60,"Description"),t(),n(61,"th"),l(62,"Url"),t(),n(63,"th"),l(64,"Duration"),t(),n(65,"th"),l(66,"Type"),t(),n(67,"th",38),l(68,"Action"),t()()(),n(69,"tbody"),M(70,ne,26,12,"tr",null,S),t()()()}if(i&2){let e=g();r(10),p("formGroup",e.adsForm),r(60),O(e.allAds())}}function oe(i,s){if(i&1&&(n(0,"div",50)(1,"div",51)(2,"div",52),a(3,"img",53),t(),n(4,"div",54)(5,"div",55)(6,"a",56),l(7),t()()()()()),i&2){let e=s.$implicit;r(3),p("src",e.image,u),r(3),p("href",e.url,u),r(),_(e.name)}}function le(i,s){if(i&1&&(n(0,"div",1)(1,"div",49),M(2,oe,8,3,"div",50,S),t()()),i&2){let e=g();r(2),O(e.activeAds())}}var ue=(()=>{class i{constructor(){this._FormBuilder=m(q),this._AdsService=m(W),this._PLATFORM_ID=m(F),this._ToastrService=m(K),this.userId=C(localStorage.getItem("userId")||""),this.role=C(localStorage.getItem("role")||""),this.allAds=C([]),this.activeAds=C([]),this.selectedFile=C(null),this.adsForm=this._FormBuilder.group({Name:[],Image:[],Url:[],Description:[],Type:[1],DurationInMonths:[],IsActive:[!0],CreatedBy:[]})}ngOnInit(){this.getAllAds(),this.getActiveds()}getAllAds(){this._AdsService.GetAllAds().subscribe({next:e=>{this.allAds.set(e.data)}})}getActiveds(){this._AdsService.GetActiveAds().subscribe({next:e=>{this.activeAds.set(e.data)}})}onFileSelected(e){let o=e.target;!o.files||o.files.length===0||this.selectedFile.set(o.files[0])}submitAdsForm(){let e=this.adsForm.value,o=new FormData;o.append("Name",e.Name),o.append("Image",this.selectedFile()),o.append("Url",e.Url),o.append("Description",e.Description),o.append("Type",e.Type),o.append("DurationInMonths",e.DurationInMonths),o.append("IsActive",e.IsActive),o.append("CreatedBy",this.userId()),this._AdsService.CreateNewAds(o).subscribe({next:d=>{this._ToastrService.success(d.msg),this.getAllAds(),this.adsForm.reset()}})}deleteAds(e){this._AdsService.SoftDeleteAds(e).subscribe({next:o=>{this._ToastrService.success(o.msg),this.getAllAds()}})}switchActiveAds(e){this._AdsService.SwitchActiveAds(e).subscribe({next:o=>{this._ToastrService.success(o.msg),this.getAllAds()}})}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-ads"]],standalone:!0,features:[T],decls:4,vars:2,consts:[["id","gallery",1,"gallery"],[1,"gallery-box","mt-3"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","add-ads-btn","mt-3"],[1,"fa-solid","fa-plus"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","border-0"],["id","exampleModalLabel",1,"modal-title","fs-5","align-items-center"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-2",3,"formGroup"],[1,"col-md-6","col-12"],["for","Type"],["name","Type","id","Type","formControlName","Type",1,"form-select"],["value","1"],["value","2"],["for","Name"],["type","text","formControlName","Name","name","Name","id","Name","placeholder","Name",1,"form-control"],["for","URL"],["type","text","formControlName","Url","name","Url","id","Url","placeholder","URL ADS",1,"form-control"],["for","Duration"],["type","number","formControlName","DurationInMonths","name","Duration","id","Duration","placeholder","Duration ADS In Months",1,"form-control"],[1,"col-12"],["for","Description"],["formControlName","Description","name","Description","id","Description","placeholder","ADS Description",1,"form-control"],["type","file","name","Name","id","Name",1,"form-control",3,"change"],[1,"modal-footer","border-0"],[1,"d-flex","justify-content-end","align-items-center","gap-2",3,"click"],[1,"save-btn","btn","d-flex","justify-content-center","align-items-center","gap-2"],["width","25","height","25","viewBox","0 0 25 25","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_893_4557)"],["d","M17.7083 25H9.375C4.20521 25 0 20.7937 0 15.625V7.29167C0 6.71667 0.465625 6.25 1.04167 6.25C1.61771 6.25 2.08333 6.71667 2.08333 7.29167V15.625C2.08333 19.6458 5.35521 22.9167 9.375 22.9167H17.7083C18.2844 22.9167 18.75 23.3833 18.75 23.9583C18.75 24.5333 18.2844 25 17.7083 25ZM17.7083 0H11.4583V5.20833H17.7083V0ZM25 6.52812V15.625C25 18.501 22.6677 20.8333 19.7917 20.8333H9.375C6.49896 20.8333 4.16667 18.501 4.16667 15.625V5.20833C4.16667 2.33646 6.50312 0 9.375 0V5.20833C9.375 6.35938 10.3073 7.29167 11.4583 7.29167H17.7083C18.8594 7.29167 19.7917 6.35938 19.7917 5.20833V0.288542C20.1354 0.444792 20.4552 0.655208 20.7229 0.925L24.0937 4.32604C24.674 4.91146 25 5.70312 25 6.52812ZM18.75 14.0625C18.75 12.049 17.1177 10.4167 15.1042 10.4167C13.0906 10.4167 11.4583 12.049 11.4583 14.0625C11.4583 16.076 13.0906 17.7083 15.1042 17.7083C17.1177 17.7083 18.75 16.076 18.75 14.0625ZM16.6667 14.0625C16.6667 14.925 15.9667 15.625 15.1042 15.625C14.2417 15.625 13.5417 14.925 13.5417 14.0625C13.5417 13.2 14.2417 12.5 15.1042 12.5C15.9667 12.5 16.6667 13.2 16.6667 14.0625Z"],["cx","15","cy","14","r","1","fill","#F97C21"],["id","clip0_893_4557"],["width","25","height","25","fill","white"],[1,"table-responsive","my-3","rounded-3"],[1,"table"],[1,"text-center"],["alt","",1,"ads-image",3,"src"],["target","_blank",3,"href"],[1,"d-flex","align-items-center","justify-content-center","gap-3"],[1,"cr","rounded-2",3,"click","ngClass"],[1,"d-flex","justify-content-center","align-items-center",3,"click"],["width","16","height","16","viewBox","0 0 14 14","fill","#f00","xmlns","http://www.w3.org/2000/svg",1,"cr"],["clip-path","url(#clip0_920_9284)"],["d","M12.8333 2.33333H10.4411C10.1698 1.00392 8.99206 0 7.58331 0H6.41665C5.00848 0 3.83015 1.00392 3.5589 2.33333H1.16665C0.844646 2.33333 0.583313 2.59408 0.583313 2.91667C0.583313 3.23925 0.844646 3.5 1.16665 3.5H1.66831L2.42431 11.3628C2.56898 12.8666 3.81731 14 5.32756 14H8.66831C10.1809 14 11.4292 12.8642 11.5721 11.3587L12.3165 3.5H12.8327C13.1547 3.5 13.4161 3.23925 13.4161 2.91667C13.4161 2.59408 13.1553 2.33333 12.8333 2.33333ZM6.41665 1.16667H7.58331C8.34281 1.16667 8.98448 1.65608 9.22598 2.33333H4.77456C5.01606 1.65608 5.65773 1.16667 6.41723 1.16667H6.41665ZM9.1624 9.50425C9.39048 9.73233 9.39048 10.101 9.1624 10.3291C9.04865 10.4428 8.89931 10.5 8.74998 10.5C8.60065 10.5 8.45131 10.4428 8.33756 10.3291L6.99998 8.9915L5.6624 10.3291C5.54865 10.4428 5.39931 10.5 5.24998 10.5C5.10065 10.5 4.95131 10.4428 4.83756 10.3291C4.60948 10.101 4.60948 9.73233 4.83756 9.50425L6.17515 8.16667L4.83756 6.82908C4.60948 6.601 4.60948 6.23233 4.83756 6.00425C5.06565 5.77617 5.43431 5.77617 5.6624 6.00425L6.99998 7.34183L8.33756 6.00425C8.56565 5.77617 8.93431 5.77617 9.1624 6.00425C9.39048 6.23233 9.39048 6.601 9.1624 6.82908L7.82481 8.16667L9.1624 9.50425Z"],["id","clip0_920_9284"],["width","14","height","14","fill","white"],[1,"row","g-3"],[1,"col-lg-4","col-md-6","col-12","animate__animated","animate__fadeInUp","overflow-hidden"],[1,"box"],[1,"image-gallery"],["loading","lazy","alt","benzeney",1,"w-100",3,"src"],[1,"overlay-gallery"],[1,"lay-content"],["target","_blank",1,"cr",3,"href"]],template:function(o,d){o&1&&(n(0,"section",0),a(1,"app-header"),y(2,ie,72,1)(3,le,4,0,"div",1),t()),o&2&&(r(2),b(2,d.role()=="Super Admin"?2:-1),r(),b(3,d.role()!="Super Admin"?3:-1))},dependencies:[Q,J,G,B,Z,k,$,z,V,U,R,j,N],styles:['.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border-radius:5px;position:relative;overflow:hidden;transition:all .3s}.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .x-mark[_ngcontent-%COMP%]{top:20px;right:20px;width:20px;height:20px;background-color:#f97c21;display:none!important}.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .overlay-gallery[_ngcontent-%COMP%]{position:absolute;bottom:-100%;left:0;width:100%;height:100%;background-color:#00000094;color:#fff;display:flex;justify-content:center;align-items:center;transition:all .3s}.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .overlay-gallery[_ngcontent-%COMP%]   .lay-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700;font-style:italic;transition:all .3s}.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .overlay-gallery[_ngcontent-%COMP%]   .lay-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f97c21}.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:hover   .overlay-gallery[_ngcontent-%COMP%]{bottom:0}.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:hover   .x-mark[_ngcontent-%COMP%]{display:flex!important}.save-btn[_ngcontent-%COMP%]{width:143px;height:41px;padding:6px 29px 6px 30px;color:#f97c21;font-size:20px;font-weight:700;border-radius:63px;border:1px solid #F97C21;background:#fff;position:relative;overflow:hidden}.save-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{z-index:3;transition:all .3s}.save-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:45%;left:67%;background-color:#f97c21;width:0;height:0;border-radius:63px;transition:all .3s}.save-btn[_ngcontent-%COMP%]:hover:before{top:0;left:0;width:101%;height:101%}.save-btn[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff}.save-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#f97c21;transition:all .3s}.save-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#fff}.add-ads-btn[_ngcontent-%COMP%]{background-color:transparent;color:#f97c21;border:1px solid #F97C21}.add-ads-btn[_ngcontent-%COMP%]:hover{background-color:#f97c21;color:#fff}.ads-image[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover}.dis-active-btn[_ngcontent-%COMP%]{width:70px;font-size:12px;color:#6d6d6d;background-color:#dcdcdc}.active-btn[_ngcontent-%COMP%]{width:70px;font-size:12px;color:#35cf80;background-color:#d9f8e8}']})}}return i})();export{ue as AdsComponent};
