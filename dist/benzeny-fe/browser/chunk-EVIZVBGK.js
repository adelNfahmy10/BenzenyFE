import{b as E,c as M,e as A,o as T}from"./chunk-I3C4VQQY.js";import{a as g,b as B}from"./chunk-ZZWJ6P37.js";import{a as x}from"./chunk-CWF4SY4G.js";import"./chunk-ZXHXV3L2.js";import{Gb as i,Hb as c,Lb as m,Ma as o,Mb as d,Nb as p,Pb as v,X as S,ha as f,ia as C,kb as w,lb as b,mb as D,nb as t,ob as e,pb as _,xb as s}from"./chunk-XGXIU26N.js";import"./chunk-CWTPBX7D.js";function F(u,L){if(u&1&&(t(0,"tr")(1,"td"),i(2),e(),t(3,"td"),i(4),e(),t(5,"td"),i(6),e(),t(7,"td"),i(8),e(),t(9,"td"),i(10),e(),t(11,"td"),i(12),e(),t(13,"td"),i(14),e(),t(15,"td"),i(16),e(),t(17,"td"),i(18),e()()),u&2){let l=L.$implicit;o(2),c(l.company),o(2),c(l.branch),o(2),c(l.car),o(2),c(l.driver),o(2),c(l.transaction),o(2),c(l.station),o(2),c(l.balance),o(2),c(l.fromDate),o(2),c(l.toDate)}}g.register(...B);var V=(()=>{class u{constructor(){this.config={type:"line",data:{labels:["JAN","FEB","MAR","APR"],datasets:[{label:"Sales",data:[100,200,400,600],borderColor:"#F79320",backgroundColor:"#F79320"}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}},this.data=[{company:"Company A",branch:"Branch 1",car:"Car X",driver:"Driver A",transaction:"TX001",station:"Station Alpha",balance:1500,fromDate:"2024-06-01",toDate:"2024-06-17"},{company:"Company B",branch:"Branch 2",car:"Car Y",driver:"Driver B",transaction:"TX002",station:"Station Beta",balance:2200,fromDate:"2021-09-22",toDate:"2025-11-30"},{company:"Company B",branch:"Branch 3",car:"Car Z",driver:"Driver B",transaction:"TX002",station:"Station Beta",balance:2200,fromDate:"2022-05-01",toDate:"2024-09-30"},{company:"Company A",branch:"Branch 5",car:"Car F",driver:"Driver A",transaction:"TX001",station:"Station Alpha",balance:1500,fromDate:"2025-06-14",toDate:"2025-06-22"}],this.filteredData=[...this.data],this.filters={company:"",branch:"",car:"",driver:"",transaction:"",station:"",balance:"",fromDate:"",toDate:""},this.sortDirection="asc",this.currentSortKey=""}ngOnInit(){this.chart=new g("MyChart",this.config)}applyFilters(){this.filteredData=this.data.filter(l=>{let h=new Date(l.fromDate),n=new Date(l.toDate),r=this.filters.fromDate?new Date(this.filters.fromDate):null,a=this.filters.toDate?new Date(this.filters.toDate):null;return(!this.filters.company||l.company.toLowerCase().includes(this.filters.company.toLowerCase()))&&(!this.filters.branch||l.branch.toLowerCase().includes(this.filters.branch.toLowerCase()))&&(!this.filters.car||l.car.toLowerCase().includes(this.filters.car.toLowerCase()))&&(!this.filters.driver||l.driver.toLowerCase().includes(this.filters.driver.toLowerCase()))&&(!this.filters.transaction||l.transaction.toLowerCase().includes(this.filters.transaction.toLowerCase()))&&(!this.filters.station||l.station.toLowerCase().includes(this.filters.station.toLowerCase()))&&(!this.filters.balance||l.balance.toString().includes(this.filters.balance.toString()))&&(!r||h>=r)&&(!a||n<=a)}),this.currentSortKey&&this.sortData(this.currentSortKey,!0)}sortData(l,h=!1){h||(this.sortDirection=this.sortDirection==="asc"?"desc":"asc"),this.currentSortKey=l,this.filteredData.sort((n,r)=>{let a=n[l],y=r[l];return a<y?this.sortDirection==="asc"?-1:1:a>y?this.sortDirection==="asc"?1:-1:0})}resetFilter(){this.filters={company:"",branch:"",car:"",driver:"",transaction:"",station:"",balance:"",fromDate:"",toDate:""},this.filteredData=[...this.data],this.currentSortKey="",this.sortDirection="asc"}static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275cmp=S({type:u,selectors:[["app-analytics"]],standalone:!0,features:[v],decls:126,vars:9,consts:[[1,"w-100"],[1,"container-fluid"],[1,"row","g-4"],[1,"col-12","animate__animated","animate__fadeInDown"],[1,"row"],[1,"col-lg-2","details","px-0"],[1,"main-bg","text-white","p-3","d-flex","flex-column","align-items-center","justify-content-center","h-100","rounded-start-3"],["width","24","height","25","viewBox","0 0 24 25","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_475_7661)"],["d","M12 24.5C14.3734 24.5 16.6935 23.7962 18.6668 22.4776C20.6402 21.1591 22.1783 19.2849 23.0866 17.0922C23.9948 14.8995 24.2324 12.4867 23.7694 10.1589C23.3064 7.83115 22.1635 5.69295 20.4853 4.01472C18.8071 2.33649 16.6689 1.1936 14.3411 0.730582C12.0133 0.267559 9.60051 0.505199 7.4078 1.41345C5.21509 2.3217 3.34094 3.85977 2.02236 5.83316C0.703788 7.80655 0 10.1266 0 12.5C0.00344108 15.6815 1.26883 18.7318 3.51852 20.9815C5.76821 23.2312 8.81846 24.4966 12 24.5ZM6.269 12.9L11.356 7.75001C11.4398 7.66413 11.54 7.59589 11.6506 7.5493C11.7612 7.50271 11.88 7.47871 12 7.47871C12.12 7.47871 12.2388 7.50271 12.3494 7.5493C12.46 7.59589 12.5602 7.66413 12.644 7.75001L17.731 12.9C17.8589 13.0288 17.946 13.1924 17.9815 13.3703C18.017 13.5483 17.9993 13.7328 17.9306 13.9008C17.8619 14.0688 17.7453 14.2128 17.5953 14.3149C17.4452 14.417 17.2685 14.4727 17.087 14.475H6.913C6.73153 14.4727 6.55476 14.417 6.40473 14.3149C6.25471 14.2128 6.13807 14.0688 6.06939 13.9008C6.0007 13.7328 5.983 13.5483 6.0185 13.3703C6.054 13.1924 6.14112 13.0288 6.269 12.9Z","fill","white"],["id","clip0_475_7661"],["width","24","height","24","fill","white","transform","translate(0 0.5)"],[1,"d-flex","justify-content-center","align-items-center"],[1,"mt-1"],[1,"sub-usual"],[1,"col-lg-3","details","px-0"],[1,"bg-white","p-3","d-flex","flex-column","align-items-center","justify-content-center","h-100"],["width","25","height","25","viewBox","0 0 25 25","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.5 24.5C14.8734 24.5 17.1935 23.7962 19.1668 22.4776C21.1402 21.1591 22.6783 19.2849 23.5866 17.0922C24.4948 14.8995 24.7324 12.4867 24.2694 10.1589C23.8064 7.83115 22.6635 5.69295 20.9853 4.01472C19.3071 2.33649 17.1689 1.1936 14.8411 0.730582C12.5133 0.267559 10.1005 0.505199 7.9078 1.41345C5.71509 2.3217 3.84094 3.85977 2.52236 5.83316C1.20379 7.80655 0.5 10.1266 0.5 12.5C0.503441 15.6815 1.76883 18.7318 4.01852 20.9815C6.26821 23.2312 9.31846 24.4966 12.5 24.5ZM6.769 12.9L11.856 7.75001C11.9398 7.66413 12.04 7.59589 12.1506 7.5493C12.2612 7.50271 12.38 7.47871 12.5 7.47871C12.62 7.47871 12.7388 7.50271 12.8494 7.5493C12.96 7.59589 13.0602 7.66413 13.144 7.75001L18.231 12.9C18.3589 13.0288 18.446 13.1924 18.4815 13.3703C18.517 13.5483 18.4993 13.7328 18.4306 13.9008C18.3619 14.0688 18.2453 14.2128 18.0953 14.3149C17.9452 14.417 17.7685 14.4727 17.587 14.475H7.413C7.23153 14.4727 7.05476 14.417 6.90473 14.3149C6.75471 14.2128 6.63807 14.0688 6.56939 13.9008C6.5007 13.7328 6.483 13.5483 6.5185 13.3703C6.554 13.1924 6.64112 13.0288 6.769 12.9Z","fill","#F79320"],[1,"bg-white","p-3","d-flex","flex-column","align-items-center","justify-content-center","h-100","rounded-end-3"],[1,"col-12"],[1,"row","bg-white","rounded-3","p-3","px-5","g-2"],[1,"col-md-3","col-sm-2"],["type","text",1,"form-control",3,"ngModelChange","input","ngModel"],["type","date",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"d-flex","justify-content-end"],[1,"btn","reset-btn",3,"click"],[1,"col-12","bg-white","p-3","rounded-3"],[1,"table-responsive"],[1,"table"],[1,"table-light"],[3,"click"]],template:function(h,n){h&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),_(4,"app-header"),t(5,"h1"),i(6,"Analytics"),e()(),t(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6),f(),t(11,"svg",7)(12,"g",8),_(13,"path",9),e(),t(14,"defs")(15,"clipPath",10),_(16,"rect",11),e()()(),C(),t(17,"h4"),i(18,"Balance"),e(),t(19,"div",12)(20,"h4"),i(21,"564,00"),e(),t(22,"span",13),i(23,"SAR"),e()(),t(24,"span",14),i(25,"+60.000 more than usual"),e()()(),t(26,"div",15)(27,"div",16),f(),t(28,"svg",17),_(29,"path",18),e(),C(),t(30,"h4"),i(31,"Companies"),e(),t(32,"h4"),i(33,"5000"),e(),t(34,"span",14),i(35,"+600 more than usual"),e()()(),t(36,"div",5)(37,"div",16)(38,"h4"),i(39,"Fuel Stations"),e(),t(40,"h4"),i(41,"500"),e()()(),t(42,"div",15)(43,"div",16),f(),t(44,"svg",17),_(45,"path",18),e(),C(),t(46,"h4"),i(47,"Vehicles"),e(),t(48,"h4"),i(49,"1000"),e(),t(50,"span",14),i(51,"+600 more than usual"),e()()(),t(52,"div",5)(53,"div",19)(54,"h4"),i(55,"transactions"),e(),t(56,"h4"),i(57,"+9000000"),e()()()()(),t(58,"div",20)(59,"div",21)(60,"div",22)(61,"label"),i(62,"Company"),e(),t(63,"input",23),p("ngModelChange",function(a){return d(n.filters.company,a)||(n.filters.company=a),a}),s("input",function(){return n.applyFilters()}),e()(),t(64,"div",22)(65,"label"),i(66,"Branch"),e(),t(67,"input",23),p("ngModelChange",function(a){return d(n.filters.branch,a)||(n.filters.branch=a),a}),s("input",function(){return n.applyFilters()}),e()(),t(68,"div",22)(69,"label"),i(70,"Vehicles"),e(),t(71,"input",23),p("ngModelChange",function(a){return d(n.filters.car,a)||(n.filters.car=a),a}),s("input",function(){return n.applyFilters()}),e()(),t(72,"div",22)(73,"label"),i(74,"Driver"),e(),t(75,"input",23),p("ngModelChange",function(a){return d(n.filters.driver,a)||(n.filters.driver=a),a}),s("input",function(){return n.applyFilters()}),e()(),t(76,"div",22)(77,"label"),i(78,"Transactions"),e(),t(79,"input",23),p("ngModelChange",function(a){return d(n.filters.transaction,a)||(n.filters.transaction=a),a}),s("input",function(){return n.applyFilters()}),e()(),t(80,"div",22)(81,"label"),i(82,"Station"),e(),t(83,"input",23),p("ngModelChange",function(a){return d(n.filters.station,a)||(n.filters.station=a),a}),s("input",function(){return n.applyFilters()}),e()(),t(84,"div",22)(85,"label"),i(86,"Balance"),e(),t(87,"input",23),p("ngModelChange",function(a){return d(n.filters.balance,a)||(n.filters.balance=a),a}),s("input",function(){return n.applyFilters()}),e()(),t(88,"div",22)(89,"label"),i(90,"FromDate"),e(),t(91,"input",24),p("ngModelChange",function(a){return d(n.filters.fromDate,a)||(n.filters.fromDate=a),a}),s("change",function(){return n.applyFilters()}),e()(),t(92,"div",22)(93,"label"),i(94,"ToDate"),e(),t(95,"input",24),p("ngModelChange",function(a){return d(n.filters.toDate,a)||(n.filters.toDate=a),a}),s("change",function(){return n.applyFilters()}),e()(),t(96,"div",20)(97,"div",25)(98,"button",26),s("click",function(){return n.resetFilter()}),i(99,"Reset"),e()()()()(),t(100,"div",27)(101,"div",28)(102,"table",29)(103,"thead",30)(104,"tr")(105,"th",31),s("click",function(){return n.sortData("company")}),i(106,"Companies"),e(),t(107,"th",31),s("click",function(){return n.sortData("branch")}),i(108,"Branches"),e(),t(109,"th",31),s("click",function(){return n.sortData("car")}),i(110,"Vehicles"),e(),t(111,"th",31),s("click",function(){return n.sortData("driver")}),i(112,"Drivers"),e(),t(113,"th",31),s("click",function(){return n.sortData("transaction")}),i(114,"Transactions"),e(),t(115,"th",31),s("click",function(){return n.sortData("station")}),i(116,"Fuel Stations"),e(),t(117,"th",31),s("click",function(){return n.sortData("balance")}),i(118,"Balance"),e(),t(119,"th",31),s("click",function(){return n.sortData("fromDate")}),i(120,"From Date"),e(),t(121,"th",31),s("click",function(){return n.sortData("toDate")}),i(122,"To Date"),e()()(),t(123,"tbody"),b(124,F,19,9,"tr",null,w),e()()()()()()()),h&2&&(o(63),m("ngModel",n.filters.company),o(4),m("ngModel",n.filters.branch),o(4),m("ngModel",n.filters.car),o(4),m("ngModel",n.filters.driver),o(4),m("ngModel",n.filters.transaction),o(4),m("ngModel",n.filters.station),o(4),m("ngModel",n.filters.balance),o(4),m("ngModel",n.filters.fromDate),o(4),m("ngModel",n.filters.toDate),o(29),D(n.filteredData))},dependencies:[x,T,E,M,A],styles:['.details[_ngcontent-%COMP%]{position:relative}.details[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;transform:translate(-50%,-50%);right:0;width:2px;height:50%;background-color:#ddd}.details[_ngcontent-%COMP%]:first-child:before{content:none}.details[_ngcontent-%COMP%]:last-child:before{content:none}@media (max-width: 991px){.details[_ngcontent-%COMP%]:before{content:"";position:absolute;top:100%;transform:translate(-25%,-70%);width:70%;height:3px;background-color:#ddd}}.sub-usual[_ngcontent-%COMP%]{text-align:center;font-size:10px;font-weight:300;margin-top:5px}.chart-container[_ngcontent-%COMP%], .chart-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .chart-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#fafafa}.reset-btn[_ngcontent-%COMP%]{width:100px;height:40px;background-color:#f79320;color:#fff;transition:all .3s}']})}}return u})();export{V as AnalyticsComponent};
