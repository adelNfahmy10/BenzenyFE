import{l as K}from"./chunk-LJ2IJ4MD.js";import{b as U,c as H,d as L,g as $,h as R,i as j,k as z,l as G,m as B,n as Z,o as q,q as J}from"./chunk-Y73DIF7F.js";import{a as Q}from"./chunk-C6PEE2BP.js";import{a as g}from"./chunk-MFRZFDYH.js";import{a as V}from"./chunk-3CFASREP.js";import{h as k}from"./chunk-NKPCLCB2.js";import{Gb as r,Hb as _,Ia as x,Ib as I,Ma as l,O as P,Pb as T,Sb as N,U as m,X as w,Ya as u,cb as A,eb as p,fa as f,ga as v,ha as D,ia as E,jb as h,kb as S,lb as M,mb as O,nb as n,ob as t,pb as a,sb as y,ta as F,xb as b,yb as c}from"./chunk-JIEL56YO.js";import"./chunk-CWTPBX7D.js";var W=(()=>{class i{constructor(){this._HttpClient=m(V)}GetAllAds(){return this._HttpClient.get(`${g.baseURL}api/Advertiesment/v1/GetAll/GetAll`)}CreateNewAds(e){return this._HttpClient.post(`${g.baseURL}api/Advertiesment/v1/Create/CreateNewAds`,e)}SwitchActiveAds(e){return this._HttpClient.post(`${g.baseURL}api/Advertiesment/v1/AdsSwitchActive/AdsSwitchActive/${e}`,{})}EditAds(e){return this._HttpClient.get(`${g.baseURL}api/Advertiesment/v1/Edit/EditAds`,e)}SoftDeleteAds(e){return this._HttpClient.delete(`${g.baseURL}api/Advertiesment/v1/SoftDelete/SoftDelete/${e}`)}HardDeleteAds(e){return this._HttpClient.delete(`${g.baseURL}api/Advertiesment/v1/HardDelete/HardDelete/${e}`)}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275prov=P({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Y=(i,s)=>({"active-btn":i,"dis-active-btn":s});function ee(i,s){i&1&&(n(0,"span"),r(1,"Corperate Company"),t())}function te(i,s){i&1&&(n(0,"span"),r(1,"Mobile"),t())}function ne(i,s){if(i&1){let e=y();n(0,"tr")(1,"th"),a(2,"img",38),t(),n(3,"td"),r(4),t(),n(5,"td"),r(6),t(),n(7,"td")(8,"a",39),r(9),t()(),n(10,"td"),A(11,ee,2,0,"span")(12,te,2,0),t(),n(13,"td"),r(14),t(),n(15,"td")(16,"span",40),b("click",function(){let d=f(e).$implicit,C=c(2);return v(C.switchActiveAds(d.id))}),r(17),t()()()}if(i&2){let e=s.$implicit;l(2),p("src",e.image,x),l(2),_(e.name),l(2),_(e.description),l(2),p("href",e.url,x),l(),_(e.url),l(2),h(11,e.type==1?11:e.type==2?12:-1),l(3),_(e.durationInMonths),l(2),p("ngClass",N(9,Y,e.isActive,!e.isActive)),l(),I(" ",e.isActive?"Active":"DeActive"," ")}}function ie(i,s){if(i&1){let e=y();n(0,"button",2),a(1,"i",3),t(),n(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"h1",8),r(7,"Add Advertiesment"),t(),a(8,"button",9),t(),n(9,"div",10)(10,"form",11)(11,"div",12)(12,"label",13),r(13,"ADS Type"),t(),n(14,"select",14)(15,"option",15),r(16,"Corperate Company"),t(),n(17,"option",16),r(18,"Mobile"),t()()(),n(19,"div",12)(20,"label",17),r(21,"ADS Name"),t(),a(22,"input",18),t(),n(23,"div",12)(24,"label",19),r(25,"URL ADS"),t(),a(26,"input",20),t(),n(27,"div",12)(28,"label",21),r(29,"Duration ADS"),t(),a(30,"input",22),t(),n(31,"div",23)(32,"label",24),r(33,"ADS Description"),t(),a(34,"textarea",25),t(),n(35,"div",12)(36,"label",17),r(37,"ADS Image"),t(),n(38,"input",26),b("change",function(d){f(e);let C=c();return v(C.onFileSelected(d))}),t()()()(),n(39,"div",27)(40,"div",28),b("click",function(){f(e);let d=c();return v(d.submitAdsForm())}),n(41,"button",29)(42,"span"),r(43,"Save"),t(),D(),n(44,"svg",30)(45,"g",31),a(46,"path",32)(47,"circle",33),t(),n(48,"defs")(49,"clipPath",34),a(50,"rect",35),t()()()()()()()()(),E(),n(51,"div",36)(52,"table",37)(53,"thead")(54,"tr")(55,"th"),r(56,"Photo"),t(),n(57,"th"),r(58,"Name"),t(),n(59,"th"),r(60,"Description"),t(),n(61,"th"),r(62,"Url"),t(),n(63,"th"),r(64,"Duration"),t(),n(65,"th"),r(66,"Type"),t(),n(67,"th"),r(68,"Action"),t()()(),n(69,"tbody"),M(70,ne,18,12,"tr",null,S),t()()()}if(i&2){let e=c();l(10),p("formGroup",e.adsForm),l(60),O(e.allAds())}}function oe(i,s){if(i&1){let e=y();n(0,"div",50),b("click",function(){f(e);let d=c().$implicit,C=c(2);return v(C.deleteAds(d.id))}),a(1,"i",51),t()}}function re(i,s){if(i&1&&(n(0,"div",42)(1,"div",43)(2,"div",44),a(3,"img",45),t(),n(4,"div",46)(5,"div",47)(6,"a",48),r(7),t()()(),A(8,oe,2,0,"div",49),t()()),i&2){let e=s.$implicit,o=c(2);l(3),p("src",e.image,x),l(3),p("href",e.url,x),l(),_(e.name),l(),h(8,o.role()=="Super Admin"?8:-1)}}function le(i,s){if(i&1&&(n(0,"div",1)(1,"div",41),M(2,re,9,4,"div",42,S),t()()),i&2){let e=c();l(2),O(e.allAds())}}var he=(()=>{class i{constructor(){this._FormBuilder=m(q),this._AdsService=m(W),this._PLATFORM_ID=m(F),this._ToastrService=m(K),this.userId=u(localStorage.getItem("userId")||""),this.role=u(localStorage.getItem("role")||""),this.allAds=u([]),this.selectedFile=u(null),this.adsForm=this._FormBuilder.group({Name:[],Image:[],Url:[],Description:[],Type:[1],DurationInMonths:[],IsActive:[!0],CreatedBy:[]})}ngOnInit(){this.getAllAds()}getAllAds(){this._AdsService.GetAllAds().subscribe({next:e=>{this.allAds.set(e.data)}})}onFileSelected(e){let o=e.target;!o.files||o.files.length===0||this.selectedFile.set(o.files[0])}submitAdsForm(){let e=this.adsForm.value,o=new FormData;o.append("Name",e.Name),o.append("Image",this.selectedFile()),o.append("Url",e.Url),o.append("Description",e.Description),o.append("Type",e.Type),o.append("DurationInMonths",e.DurationInMonths),o.append("IsActive",e.IsActive),o.append("CreatedBy",this.userId()),this._AdsService.CreateNewAds(o).subscribe({next:d=>{this._ToastrService.success(d.msg),this.getAllAds(),this.adsForm.reset()}})}deleteAds(e){this._AdsService.SoftDeleteAds(e).subscribe({next:o=>{this._ToastrService.success(o.msg),this.getAllAds()}})}switchActiveAds(e){this._AdsService.SwitchActiveAds(e).subscribe({next:o=>{this._ToastrService.success(o.msg),this.getAllAds()}})}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=w({type:i,selectors:[["app-ads"]],standalone:!0,features:[T],decls:4,vars:2,consts:[["id","gallery",1,"gallery"],[1,"gallery-box","mt-3"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","add-ads-btn","mt-3"],[1,"fa-solid","fa-plus"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","border-0"],["id","exampleModalLabel",1,"modal-title","fs-5","align-items-center"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-2",3,"formGroup"],[1,"col-md-6","col-12"],["for","Type"],["name","Type","id","Type","formControlName","Type",1,"form-select"],["value","1"],["value","2"],["for","Name"],["type","text","formControlName","Name","name","Name","id","Name","placeholder","Name",1,"form-control"],["for","URL"],["type","text","formControlName","Url","name","Url","id","Url","placeholder","URL ADS",1,"form-control"],["for","Duration"],["type","number","formControlName","DurationInMonths","name","Duration","id","Duration","placeholder","Duration ADS In Months",1,"form-control"],[1,"col-12"],["for","Description"],["formControlName","Description","name","Description","id","Description","placeholder","ADS Description",1,"form-control"],["type","file","name","Name","id","Name",1,"form-control",3,"change"],[1,"modal-footer","border-0"],[1,"d-flex","justify-content-end","align-items-center","gap-2",3,"click"],[1,"save-btn","btn","d-flex","justify-content-center","align-items-center","gap-2"],["width","25","height","25","viewBox","0 0 25 25","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_893_4557)"],["d","M17.7083 25H9.375C4.20521 25 0 20.7937 0 15.625V7.29167C0 6.71667 0.465625 6.25 1.04167 6.25C1.61771 6.25 2.08333 6.71667 2.08333 7.29167V15.625C2.08333 19.6458 5.35521 22.9167 9.375 22.9167H17.7083C18.2844 22.9167 18.75 23.3833 18.75 23.9583C18.75 24.5333 18.2844 25 17.7083 25ZM17.7083 0H11.4583V5.20833H17.7083V0ZM25 6.52812V15.625C25 18.501 22.6677 20.8333 19.7917 20.8333H9.375C6.49896 20.8333 4.16667 18.501 4.16667 15.625V5.20833C4.16667 2.33646 6.50312 0 9.375 0V5.20833C9.375 6.35938 10.3073 7.29167 11.4583 7.29167H17.7083C18.8594 7.29167 19.7917 6.35938 19.7917 5.20833V0.288542C20.1354 0.444792 20.4552 0.655208 20.7229 0.925L24.0937 4.32604C24.674 4.91146 25 5.70312 25 6.52812ZM18.75 14.0625C18.75 12.049 17.1177 10.4167 15.1042 10.4167C13.0906 10.4167 11.4583 12.049 11.4583 14.0625C11.4583 16.076 13.0906 17.7083 15.1042 17.7083C17.1177 17.7083 18.75 16.076 18.75 14.0625ZM16.6667 14.0625C16.6667 14.925 15.9667 15.625 15.1042 15.625C14.2417 15.625 13.5417 14.925 13.5417 14.0625C13.5417 13.2 14.2417 12.5 15.1042 12.5C15.9667 12.5 16.6667 13.2 16.6667 14.0625Z"],["cx","15","cy","14","r","1","fill","#F97C21"],["id","clip0_893_4557"],["width","25","height","25","fill","white"],[1,"table-responsive","my-3","rounded-3"],[1,"table"],["alt","",1,"ads-image",3,"src"],["target","_blank",3,"href"],[1,"cr","rounded-2",3,"click","ngClass"],[1,"row","g-3"],[1,"col-lg-4","col-md-6","col-12","animate__animated","animate__fadeInUp","overflow-hidden"],[1,"box"],[1,"image-gallery"],["loading","lazy","alt","benzeney",1,"w-100",3,"src"],[1,"overlay-gallery"],[1,"lay-content"],["target","_blank",1,"cr",3,"href"],[1,"x-mark","position-absolute","d-flex","justify-content-center","align-items-center","text-white","rounded-circle","cr"],[1,"x-mark","position-absolute","d-flex","justify-content-center","align-items-center","text-white","rounded-circle","cr",3,"click"],[1,"fa-solid","fa-xmark"]],template:function(o,d){o&1&&(n(0,"section",0),a(1,"app-header"),A(2,ie,72,1)(3,le,4,0,"div",1),t()),o&2&&(l(2),h(2,d.role()=="Super Admin"?2:-1),l(),h(3,d.role()!="Super Admin"?3:-1))},dependencies:[Q,J,$,B,Z,U,R,G,H,L,j,z,k],styles:['.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border-radius:5px;position:relative;overflow:hidden;transition:all .3s}.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .x-mark[_ngcontent-%COMP%]{top:20px;right:20px;width:20px;height:20px;background-color:#f97c21;display:none!important}.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .overlay-gallery[_ngcontent-%COMP%]{position:absolute;bottom:-100%;left:0;width:100%;height:100%;background-color:#00000094;color:#fff;display:flex;justify-content:center;align-items:center;transition:all .3s}.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .overlay-gallery[_ngcontent-%COMP%]   .lay-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700;font-style:italic;transition:all .3s}.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .overlay-gallery[_ngcontent-%COMP%]   .lay-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f97c21}.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:hover   .overlay-gallery[_ngcontent-%COMP%]{bottom:0}.gallery[_ngcontent-%COMP%]   .gallery-box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:hover   .x-mark[_ngcontent-%COMP%]{display:flex!important}.save-btn[_ngcontent-%COMP%]{width:143px;height:41px;padding:6px 29px 6px 30px;color:#f97c21;font-size:20px;font-weight:700;border-radius:63px;border:1px solid #F97C21;background:#fff;position:relative;overflow:hidden}.save-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{z-index:3;transition:all .3s}.save-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:45%;left:67%;background-color:#f97c21;width:0;height:0;border-radius:63px;transition:all .3s}.save-btn[_ngcontent-%COMP%]:hover:before{top:0;left:0;width:101%;height:101%}.save-btn[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff}.save-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#f97c21;transition:all .3s}.save-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#fff}.add-ads-btn[_ngcontent-%COMP%]{background-color:transparent;color:#f97c21;border:1px solid #F97C21}.add-ads-btn[_ngcontent-%COMP%]:hover{background-color:#f97c21;color:#fff}.ads-image[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover}.dis-active-btn[_ngcontent-%COMP%]{width:70px;font-size:12px;color:#6d6d6d;background-color:#dcdcdc}.active-btn[_ngcontent-%COMP%]{width:70px;font-size:12px;color:#35cf80;background-color:#d9f8e8}']})}}return i})();export{he as AdsComponent};
