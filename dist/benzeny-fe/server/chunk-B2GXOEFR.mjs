import './polyfills.server.mjs';
import{q as u}from"./chunk-V4W2VACD.mjs";import{S as r,U as o,aa as a}from"./chunk-7WC6KEWX.mjs";var m=/[&<>"']/g,Ae=RegExp(m.source);var g=new o("ng-select-selection-model");function _(){return new l}var l=class{constructor(){this._selected=[]}get value(){return this._selected}select(e,t,i){if(e.selected=!0,(!e.children||!t&&i)&&this._selected.push(e),t)if(e.parent){let n=e.parent.children.length,c=e.parent.children.filter(d=>d.selected).length;e.parent.selected=n===c}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),i&&this._activeChildren(e)?this._selected=[...this._selected.filter(n=>n.parent!==e),e]:this._selected=[...this._selected,...e.children.filter(n=>!n.disabled)])}unselect(e,t){if(this._selected=this._selected.filter(i=>i!==e),e.selected=!1,t)if(e.parent&&e.parent.selected){let i=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),this._selected.push(...i.filter(n=>n!==e&&!n.disabled)),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}clear(e){this._selected=e?this._selected.filter(t=>t.disabled):[]}_setChildrenSelectedState(e,t){for(let i of e)i.disabled||(i.selected=t)}_removeChildren(e){this._selected=[...this._selected.filter(t=>t.parent!==e),...e.children.filter(t=>t.parent===e&&t.disabled&&t.selected)]}_removeParent(e){this._selected=this._selected.filter(t=>t!==e)}_activeChildren(e){return e.children.every(t=>!t.disabled||t.selected)}},xe=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=a({type:s})}static{this.\u0275inj=r({providers:[{provide:g,useValue:_}],imports:[u]})}}return s})();export{xe as a};
