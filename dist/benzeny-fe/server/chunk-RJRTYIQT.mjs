import './polyfills.server.mjs';
import{a as R}from"./chunk-5MA5HA3C.mjs";import{a as N,b as F,c as G}from"./chunk-PPS6NOAD.mjs";import{a as L}from"./chunk-BCOPURB6.mjs";import{d as A}from"./chunk-4B5VRDRR.mjs";import{a as j}from"./chunk-MC5R7XPG.mjs";import"./chunk-F7O5QR3X.mjs";import{a as V,e as z}from"./chunk-T3CLD5FN.mjs";import"./chunk-4GPQ3HWF.mjs";import"./chunk-V4W2VACD.mjs";import{$ as f,Eb as p,Fb as c,Nb as i,Ob as x,Pb as g,Ta as r,Wb as M,X as u,Yb as k,_b as O,bc as B,db as d,dc as T,ja as s,jb as b,ka as m,la as y,lb as S,ma as v,qb as w,rb as P,sb as E,tb as D,ub as t,vb as n,wb as h,zb as I}from"./chunk-7WC6KEWX.mjs";import"./chunk-VVCT4QZE.mjs";var U=(l,C,e)=>({itemsPerPage:l,currentPage:C,totalItems:e}),$=l=>[l];function H(l,C){if(l&1&&(t(0,"tr")(1,"td"),i(2),n(),t(3,"td"),i(4),n(),t(5,"td"),i(6),n(),t(7,"td"),i(8),n(),t(9,"td"),i(10),n(),t(11,"td"),i(12),n(),t(13,"td"),i(14),n(),t(15,"td")(16,"div",42),h(17,"i",43),n()()()),l&2){let e=C.$implicit,o=C.$index;r(2),g(" ",o+1," "),r(2),g(" ",e.regionName," "),r(2),g(" ",e.cityName," "),r(2),g(" ",e.carCount," "),r(2),g(" ",e.driverCount," "),r(2),g(" ",e.iban||"Unknown"," "),r(2),g(" ",e.isActive," "),r(3),S("routerLink",k(8,$,"/details/"+e.id))}}function Z(l,C){if(l&1){let e=I();t(0,"div",7)(1,"div",8)(2,"div",9),h(3,"img",10),n(),t(4,"div",11)(5,"p",12),i(6,"Name : "),t(7,"span"),i(8),n()(),t(9,"p",12),i(10,"Email : "),t(11,"span"),i(12),n()(),t(13,"p",12),i(14,"Phone : "),t(15,"span"),i(16),n()(),t(17,"p",12),i(18,"Description : "),t(19,"span"),i(20),n()()(),h(21,"img",13),n()(),t(22,"div",7)(23,"div",8)(24,"div",11)(25,"p",12),i(26,"Owner : "),t(27,"span"),i(28),n()(),t(29,"p",12),i(30,"Email : "),t(31,"span"),i(32),n()(),t(33,"p",12),i(34,"Phone : "),t(35,"span"),i(36),n()()(),h(37,"img",13),n()(),t(38,"div",7)(39,"div",14)(40,"div",15)(41,"p",16),i(42,"Total Branches"),n(),t(43,"h3"),i(44),n()(),t(45,"div",17),h(46,"i",18),n(),h(47,"img",19),n()(),t(48,"div",20)(49,"div",21)(50,"div",22)(51,"div",23)(52,"div",24)(53,"div",25)(54,"input",26),p("input",function(a){s(e);let _=c();return m(_.filteredData(a))}),n(),y(),t(55,"svg",27),h(56,"path",28)(57,"path",29),n()()()(),v(),t(58,"div",30)(59,"table",31,0)(61,"thead",32)(62,"tr")(63,"th",33),p("click",function(){s(e);let a=c();return m(a.sortTable("index"))}),i(64,"#"),n(),t(65,"th",33),p("click",function(){s(e);let a=c();return m(a.sortTable("name"))}),i(66,"Region"),n(),t(67,"th",33),p("click",function(){s(e);let a=c();return m(a.sortTable("companyEmail"))}),i(68,"City"),n(),t(69,"th",33),p("click",function(){s(e);let a=c();return m(a.sortTable("companyPhone"))}),i(70,"Drivers"),n(),t(71,"th",33),p("click",function(){s(e);let a=c();return m(a.sortTable("companyPhone"))}),i(72,"Cars"),n(),t(73,"th",33),p("click",function(){s(e);let a=c();return m(a.sortTable("companyPhone"))}),i(74,"IBAN"),n(),t(75,"th",33),p("click",function(){s(e);let a=c();return m(a.sortTable("companyPhone"))}),i(76,"Status"),n(),t(77,"th",34),i(78,"Actions"),n()()(),t(79,"tbody"),E(80,H,18,10,"tr",null,P),B(82,"paginate"),n()(),t(83,"div",3)(84,"div")(85,"select",35),p("change",function(a){s(e);let _=c();return m(_.onChangePageSize(a))}),t(86,"option",36),i(87,"10"),n(),t(88,"option",37),i(89,"25"),n(),t(90,"option",38),i(91,"50"),n(),t(92,"option",39),i(93,"100"),n(),t(94,"option",40),i(95,"All"),n()()(),t(96,"div")(97,"pagination-controls",41),p("pageChange",function(a){s(e);let _=c();return m(_.onPageChange(a))}),n()()()()()()()}if(l&2){let e=c();r(8),x(e.companyData.name),r(4),x(e.companyData.companyEmail),r(4),x(e.companyData.companyPhone),r(4),x(e.companyData.description),r(8),x(e.companyData.fullname),r(4),x(e.companyData.email),r(4),x(e.companyData.phonenumber),r(8),g(" ",e.companyData.branches.length," "),r(36),D(T(82,8,e.allBranches(),O(11,U,e.pageSize(),e.currentPage(),e.branchCount())))}}var ie=(()=>{class l{constructor(){this._CompanyService=u(j),this._BranchService=u(R),this._ActivatedRoute=u(V),this.companyId=d(""),this.companyData="",this.allBranches=d([]),this.allPage=d(1),this.currentPage=d(1),this.pageSize=d(1),this.selectAll=d(!1),this.branchCount=d(""),this.files=d([]),this.sortColumn=d(""),this.sortDirection=d(!0)}ngOnInit(){this.getCompanyById(),this.getAllBranchesByCompanyId()}getCompanyById(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.companyId.set(e.get("id")),this._CompanyService.GetCompanyById(this.companyId()).subscribe({next:o=>{this.companyData=o.data}})}})}getAllBranchesByCompanyId(e=1,o=10){this._BranchService.GetAllBranchesInCompany(this.companyId(),"",e,o).subscribe({next:a=>{this.allBranches.set(a.data.items[0].branchs),this.branchCount.set(a.data.totalCount),this.allPage.set(Math.ceil(a.data.totalCount/a.data.pageSize)),this.currentPage.set(a.data.pageNumber),this.pageSize.set(a.data.pageSize)}})}onPageChange(e){this.currentPage.set(e),this.changePagePagination(e)}changePagePagination(e){this.getAllBranchesByCompanyId(e)}onChangePageSize(e){let o=+e.target.value;this.getAllBranchesByCompanyId(1,o)}filteredData(e){let o=e.target.value;this._CompanyService.GetAllCompanies(o).subscribe({next:a=>{this.allBranches.set(a.data.items)}})}sortTable(e){this.sortColumn()===e?this.sortDirection.set(!this.sortDirection()):(this.sortColumn.set(e),this.sortDirection.set(!0)),this.allBranches.update(o=>[...o].sort((a,_)=>a[e]>_[e]?this.sortDirection()?1:-1:a[e]<_[e]?this.sortDirection()?-1:1:0))}static{this.\u0275fac=function(o){return new(o||l)}}static{this.\u0275cmp=f({type:l,selectors:[["app-compnay-details"]],standalone:!0,features:[M],decls:10,vars:1,consts:[["table",""],[1,"row","g-3"],[1,"col-12","animate__animated","animate__fadeInDown"],[1,"d-flex","justify-content-between","align-items-center"],["routerLink","/benzeny-companies",1,"go-back","cr","d-flex","justify-content-center","align-items-center","gap-1"],[1,"fw-bold"],[1,"fa-solid","fa-arrow-right-from-bracket","pe-3"],[1,"col-md-4","animate__animated","animate__fadeInDown"],[1,"head-card","position-relative","z-3","bg-white","main-color","h-100","total","d-flex","justify-content-start","aling-items-start","gap-2","rounded-3","py-3","ps-4","pe-5"],[1,"icon-head","p-1","rounded-2"],["src","assets/image/ads-img/ads1.webp","alt",""],[1,"d-flex","flex-column","justify-content-start","align-items-start"],[1,"m-0"],["loading","lazy","src","assets/image/corner-img.png","alt","",1,"position-absolute","bottom-0","end-0","z-1"],[1,"head-card","position-relative","bg-white","main-color","h-100","total","d-flex","justify-content-between","aling-items-center","rounded-3","py-2","ps-4","pe-5"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"m-0","fs-5"],[1,"icon-head","p-1","rounded-2","mt-5"],[1,"fa-solid","fa-code-branch"],["loading","lazy","src","assets/image/corner-img.png","alt","",1,"position-absolute","bottom-0","end-0"],[1,"col-12","animate__animated","animate__fadeInUp"],[1,"col-12","animate__animated","animate__fadeInUp","z-2"],[1,"bg-white","rounded-3","p-4"],[1,"d-flex","justify-content-between","align-items-center","gap-3","mb-3","flex-wrap"],[1,"d-flex","gap-3"],[1,"search","position-relative"],["type","search","placeholder","Search... ",1,"form-control","bg-white","rounded-2",3,"input"],["width","30","height","31","viewBox","0 0 30 31","xmlns","http://www.w3.org/2000/svg"],["d","M12.5081 25.5129C15.3929 25.5167 18.1895 24.5185 20.4201 22.689L27.8808 30.1489C28.3776 30.6288 29.1692 30.615 29.649 30.1182C30.117 29.6335 30.117 28.8652 29.649 28.3805L22.1896 20.9194C26.5593 15.5706 25.766 7.69188 20.4177 3.32182C15.0693 -1.04824 7.19128 -0.254835 2.82159 5.09394C-1.54811 10.4427 -0.754773 18.3214 4.59356 22.6915C6.82738 24.5167 9.62347 25.5135 12.5081 25.5129Z"],["d","M22.5 12.9998C22.5 18.5231 18.0228 23.0006 12.5 23.0006C6.97715 23.0006 2.5 18.5231 2.5 12.9998C2.5 7.4765 6.97715 2.99897 12.5 2.99897C18.0228 2.99897 22.5 7.4765 22.5 12.9998Z","fill","white"],[1,"table-responsive"],[1,"table","table-striped","text-center"],[1,"table-head"],[1,"fw-medium","cr",3,"click"],[1,"fw-medium","cr"],["name","pageSize","id","pageSize",1,"form-select","py-1",3,"change"],["value","10"],["value","25"],["value","50"],["value","100"],["value","10000"],[1,"d-flex","justify-content-start","my-pagination",3,"pageChange"],[1,"d-flex","justify-content-center","align-items-center","gap-2","mt-1"],[1,"text-secondary","fa-solid","fa-circle-info","cr",3,"routerLink"]],template:function(o,a){o&1&&(t(0,"section")(1,"div",1)(2,"div",2)(3,"div",3),h(4,"app-header"),t(5,"div",4)(6,"span",5),i(7,"Go Back"),n(),h(8,"i",6),n()()(),b(9,Z,98,15),n()()),o&2&&(r(9),w(9,a.companyData?9:-1))},dependencies:[L,G,N,F,A,z],styles:["i[_ngcontent-%COMP%]:not(.fa-circle-info){font-size:30px}.go-back[_ngcontent-%COMP%]{color:#f79320}.go-back[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}.go-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.head-card[_ngcontent-%COMP%]   .icon-head[_ngcontent-%COMP%]{height:fit-content;border:1px dotted}.head-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;height:100%;object-fit:cover;filter:sepia(350%)}.head-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#96a0b5;font-size:14px}.head-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#222222b5}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;border:1px solid rgba(249,123,33,.5647058824)}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#b8b8b8;font-weight:300}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f79320!important}.search[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:10px;width:20px;fill:#f79320}@media (max-width: 567px){.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px;border:1px solid rgba(249,123,33,.5647058824);background-color:#fff}}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:#f79320!important;color:#fff!important}"]})}}return l})();export{ie as CompnayDetailsComponent};
